<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="authors-naomi-novick-elle-whitlock" class="level3">
<h3 class="anchored" data-anchor-id="authors-naomi-novick-elle-whitlock">Authors: Naomi Novick &amp; Elle Whitlock</h3>
</section>
<section id="date-2025-10-01" class="level3">
<h3 class="anchored" data-anchor-id="date-2025-10-01">Date: 2025-10-01</h3>
</section>
<section id="purpose-st558-project-1" class="level3">
<h3 class="anchored" data-anchor-id="purpose-st558-project-1">Purpose: ST558 Project 1</h3>
<section id="investigating-code-sourced-from-the-us-census-api" class="level4">
<h4 class="anchored" data-anchor-id="investigating-code-sourced-from-the-us-census-api">Investigating code sourced from the US census API</h4>
</section>
</section>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>In this document, we will write functions that will manipulate, process, and plot data from a <a href="https://data.census.gov/app/mdat/#">census API</a>. The following document is divided into parts: Data, Manipulation, and Investigation. We will be Data Processing, Obtaining Person Level Records, Writing a Generic Function for Summarizing, and Writing a Function for Plotting. For each major function, there will be a sample function call. We will then investigate something interesting about the data.</p>
<section id="loading-libraries" class="level2">
<h2 class="anchored" data-anchor-id="loading-libraries">Loading libraries</h2>
<p>Setting up the needed packages for this project. Note please make sure you install these packages in your console before calling them with the library statement!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries we need </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># For various parts of building our functions</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'tidyverse' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ggplot2' was built under R version 4.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'forcats' was built under R version 4.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'lubridate' was built under R version 4.3.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># To query API</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"httr"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"jsonlite"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'jsonlite'

The following object is masked from 'package:purrr':

    flatten</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># time mid pt function</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"hms"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'hms' was built under R version 4.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'hms'

The following object is masked from 'package:lubridate':

    hms</code></pre>
</div>
</div>
</section>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<section id="creating-table-from-a-given-api-url" class="level2">
<h2 class="anchored" data-anchor-id="creating-table-from-a-given-api-url">Creating Table from a given API URL</h2>
<p>The first step in our homework is to try and query an API. I chose a random URL to <strong>test</strong> before we get into our function writing.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I am setting up trial url</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>test_URL <span class="ot">&lt;-</span> <span class="st">"https://api.census.gov/data/2012/acs/acs1/pumspr?get=SEX,PWGTP,MAR&amp;SCHL=24"</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>raw_info <span class="ot">&lt;-</span><span class="fu">GET</span>(test_URL)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>parsed <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">rawToChar</span>(raw_info<span class="sc">$</span>content))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># The first row is column names so we have to adjust </span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>test_info <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(parsed[<span class="sc">-</span><span class="dv">1</span>,])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `x` argument of `as_tibble.matrix()` must have unique column names if
`.name_repair` is omitted as of tibble 2.0.0.
ℹ Using compatibility `.name_repair`.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(test_info) <span class="ot">&lt;-</span> parsed[<span class="dv">1</span>,] </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>test_info</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 189 × 4
   SEX   PWGTP MAR   SCHL 
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
 1 1     38    1     24   
 2 2     120   1     24   
 3 1     43    1     24   
 4 2     25    2     24   
 5 1     80    3     24   
 6 1     83    1     24   
 7 2     109   1     24   
 8 1     74    1     24   
 9 1     63    3     24   
10 2     63    1     24   
# ℹ 179 more rows</code></pre>
</div>
</div>
</section>
<section id="creating-generalized-function-to-turn-api-url-to-a-table" class="level2">
<h2 class="anchored" data-anchor-id="creating-generalized-function-to-turn-api-url-to-a-table">Creating Generalized Function to turn API URL to a Table</h2>
<p>If you click on the link it looks like our code worked great!</p>
<section id="helper-function-to-determine-time-variable-mid-points" class="level3">
<h3 class="anchored" data-anchor-id="helper-function-to-determine-time-variable-mid-points">Helper Function to Determine Time Variable Mid Points</h3>
<p>We will now define a function to help us determine mid point for time intervals of the form “9:15 a.m. to 9:19 a.m.” which happens in the variables JWAP and JWDP. Our function should return 9:17 AM.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># function to do mid point of time</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>mid_time <span class="ot">&lt;-</span> <span class="cf">function</span>(time) {</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (time <span class="sc">==</span> <span class="st">"NA"</span> <span class="sc">||</span> time <span class="sc">==</span> <span class="st">"0"</span>) {</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split interval into start and end times</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  parts <span class="ot">&lt;-</span> <span class="fu">str_split</span>(time, <span class="st">" to "</span>, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  start <span class="ot">&lt;-</span> parts[<span class="dv">1</span>]</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  end   <span class="ot">&lt;-</span> parts[<span class="dv">2</span>]</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ran into issue because hms uses AM PM with no dots, this cleans it</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  start <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(start, <span class="fu">c</span>(<span class="st">"a.m."</span> <span class="ot">=</span> <span class="st">"AM"</span>, <span class="st">"p.m."</span> <span class="ot">=</span> <span class="st">"PM"</span>))</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  end   <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(end,   <span class="fu">c</span>(<span class="st">"a.m."</span> <span class="ot">=</span> <span class="st">"AM"</span>, <span class="st">"p.m."</span> <span class="ot">=</span> <span class="st">"PM"</span>))</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># using hms (time format) because of forum Dr. Post mentioned it</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  start_hms <span class="ot">&lt;-</span> <span class="fu">as_hms</span>(<span class="fu">strptime</span>(start, <span class="at">format =</span> <span class="st">"%I:%M %p"</span>))</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  end_hms   <span class="ot">&lt;-</span> <span class="fu">as_hms</span>(<span class="fu">strptime</span>(end,   <span class="at">format =</span> <span class="st">"%I:%M %p"</span>))</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute midpoint via average seconds between start and end</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># note we were told we can round to get it to the minute only</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  mid_secs <span class="ot">&lt;-</span> (<span class="fu">as.numeric</span>(start_hms) <span class="sc">+</span> <span class="fu">as.numeric</span>(end_hms)) <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  mid_secs <span class="ot">&lt;-</span> <span class="fu">round</span>(mid_secs <span class="sc">/</span> <span class="dv">60</span>)<span class="sc">*</span><span class="dv">60</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># back to time format</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  mid_hms  <span class="ot">&lt;-</span> <span class="fu">as_hms</span>(mid_secs)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># back to character, display only hours mins and am/pm</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Dr. Post said this its okay to be character</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>  out <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">strptime</span>(<span class="fu">as.character</span>(mid_hms), <span class="st">"%H:%M:%S"</span>), <span class="st">"%I:%M %p"</span>)</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(out)</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Were going to <strong>test</strong> that our function for mid point in time works with the example we mentioned above!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mid_time</span>(<span class="st">"9:15 a.m. to 9:19 a.m."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "09:17 AM"</code></pre>
</div>
</div>
<p>Great, now lets work on the second step, writing a helper function to iterate this process.</p>
</section>
<section id="generalized-helper-function" class="level3">
<h3 class="anchored" data-anchor-id="generalized-helper-function">Generalized Helper function</h3>
<p>Here we have to make sure categorical variables that coded with strings of numbers get converted to the correct information via the mutate and factor. We must make sure numeric variables are numeric, and finally we have to make sure our time variables return the middle of the time period.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This assumes valid URL is used and has the same structure as our above example if our other function is thorough enough then this should not be an issue. </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>URL_funct <span class="ot">&lt;-</span><span class="cf">function</span>(Census_URL){ </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  raw_info <span class="ot">&lt;-</span><span class="fu">GET</span>(Census_URL)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  parsed <span class="ot">&lt;-</span><span class="fu">fromJSON</span>(<span class="fu">rawToChar</span>(raw_info<span class="sc">$</span>content))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  Census_info <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(parsed[<span class="sc">-</span><span class="dv">1</span>,])</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(Census_info) <span class="ot">&lt;-</span> parsed[<span class="dv">1</span>,] </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Turn categorical variables into factors with the appropriate levels using if logic to see if the column is in our tibble</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># FER</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"FER"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">FER =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(FER), <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N/A (less than 15 years/greater than 50 years/ male)"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>)))</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  }  </span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># HHL</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="st">"HHL"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">HHL =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(HHL), <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N/A (GQ/Vacant)"</span>, <span class="st">"Spanish"</span>,<span class="st">"Other Indo-European languages"</span>, <span class="st">"English Only"</span>,<span class="st">"Asian and Pacific Island languages"</span>, <span class="st">"Other Language"</span>)))</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>    }  </span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>   <span class="co"># HISPEED </span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"HISPEED"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>     Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>       <span class="fu">mutate</span>(<span class="at">HISPEED =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(HISPEED), <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N/A (GQ/vacant/no paid access to internet)"</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>)))</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># JWTRNS</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"JWTRNS"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>     <span class="fu">mutate</span>(<span class="at">JWTRNS =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(JWTRNS), <span class="at">levels =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">12</span>),</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N/A (not a worker-not in the labor force, including persons under 16 years; unemployed; employed, with a job but not at work; Armed Forces, with a job but not at work)"</span>,<span class="st">"Car, truck, or van"</span>,<span class="st">"Bus"</span>,<span class="st">"Subway or elevated rail"</span>,<span class="st">"Long-distance train or commuter rail"</span>,<span class="st">"Light rail, streetcar, or trolley"</span>,<span class="st">"Ferryboat"</span>,<span class="st">"Taxicab"</span>,<span class="st">"Motorcycle"</span>,<span class="st">"Bicycle"</span>,<span class="st">"Walked"</span>,<span class="st">"Worked from home"</span>,<span class="st">"Other method"</span>)))</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># SCH</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"SCH"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">SCH =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(SCH), <span class="at">levels =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>,<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N/A (less than 3 years old)"</span>,<span class="st">"No, has not attended in the last 3 months"</span>,<span class="st">"Yes, public school or public college"</span>,<span class="st">"Yes, private school or college or home school"</span>))) </span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># SCHL (education)</span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"SCHL"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">SCHL =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(SCHL),<span class="at">levels =</span> (<span class="dv">0</span><span class="sc">:</span><span class="dv">24</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"N/A (less than 3 years old)"</span>, <span class="st">"No schooling completed"</span>,<span class="st">"Nursery school, preschool"</span>,<span class="st">"Kindergarten"</span>,<span class="st">"Grade 1"</span>,<span class="st">"Grade 2"</span>,<span class="st">"Grade 3"</span>,<span class="st">"Grade 4"</span>,<span class="st">"Grade 5"</span>,<span class="st">"Grade 6"</span>,<span class="st">"Grade 7"</span>,<span class="st">"Grade 8"</span>,<span class="st">"Grade 9"</span>,<span class="st">"Grade 10"</span>,<span class="st">"Grade 11"</span>,<span class="st">"12th grade - no diploma"</span>,<span class="st">"Regular high school diploma"</span>,<span class="st">"GED or alternative credential"</span>,<span class="st">"Some college, but less than 1 year"</span>,<span class="st">"1 or more years of college credit, no degree"</span>,<span class="st">"Associate's degree"</span>,<span class="st">"Bachelor's degree"</span>,<span class="st">"Master's degree"</span>,<span class="st">"Professional degree beyond a bachelor's degree"</span>,<span class="st">"Doctorate degree"</span>)))</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># SEX</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"SEX"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">SEX =</span> <span class="fu">factor</span>(<span class="fu">as.numeric</span>(SEX), <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)))</span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Next convert numeric variables with similar if logic to check if they are in tibble we can loop through this</span></span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a>  num_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"AGEP"</span>, <span class="st">"GASP"</span>, <span class="st">"GRPIP"</span>, <span class="st">"JWMNP"</span>, <span class="st">"PWGTP"</span>)</span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> num_vars) {</span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (i <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a>    Census_info[[i]] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Census_info[[i]])</span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># taken from Census API site with : swapped for =</span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Creating list of all possible values of JWAP</span></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a>  <span class="co"># We will use the midtime function on this and the JWDP list to create all possible factor levels for these variables</span></span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a>  times_JWAP <span class="ot">&lt;-</span><span class="fu">c</span>(</span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a>      <span class="st">"258"</span><span class="ot">=</span> <span class="st">"9:40 p.m. to 9:44 p.m."</span>,</span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a>      <span class="st">"260"</span><span class="ot">=</span> <span class="st">"9:50 p.m. to 9:54 p.m."</span>,</span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a>      <span class="st">"261"</span><span class="ot">=</span> <span class="st">"9:55 p.m. to 9:59 p.m."</span>,</span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a>      <span class="st">"274"</span><span class="ot">=</span> <span class="st">"11:00 p.m. to 11:04 p.m."</span>,</span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a>      <span class="st">"048"</span><span class="ot">=</span> <span class="st">"4:10 a.m. to 4:14 a.m."</span>,</span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>      <span class="st">"058"</span><span class="ot">=</span> <span class="st">"5:00 a.m. to 5:04 a.m."</span>,</span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>      <span class="st">"076"</span><span class="ot">=</span> <span class="st">"6:30 a.m. to 6:34 a.m."</span>,</span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a>      <span class="st">"091"</span><span class="ot">=</span> <span class="st">"7:45 a.m. to 7:49 a.m."</span>,</span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a>      <span class="st">"094"</span><span class="ot">=</span> <span class="st">"8:00 a.m. to 8:04 a.m."</span>,</span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>      <span class="st">"122"</span><span class="ot">=</span> <span class="st">"10:20 a.m. to 10:24 a.m."</span>,</span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>      <span class="st">"142"</span><span class="ot">=</span> <span class="st">"12:00 p.m. to 12:04 p.m."</span>,</span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a>      <span class="st">"146"</span><span class="ot">=</span> <span class="st">"12:20 p.m. to 12:24 p.m."</span>,</span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a>      <span class="st">"163"</span><span class="ot">=</span> <span class="st">"1:45 p.m. to 1:49 p.m."</span>,</span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a>      <span class="st">"165"</span><span class="ot">=</span> <span class="st">"1:55 p.m. to 1:59 p.m."</span>,</span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a>      <span class="st">"171"</span><span class="ot">=</span> <span class="st">"2:25 p.m. to 2:29 p.m."</span>,</span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a>      <span class="st">"184"</span><span class="ot">=</span> <span class="st">"3:30 p.m. to 3:34 p.m."</span>,</span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a>      <span class="st">"189"</span><span class="ot">=</span> <span class="st">"3:55 p.m. to 3:59 p.m."</span>,</span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a>      <span class="st">"192"</span><span class="ot">=</span> <span class="st">"4:10 p.m. to 4:14 p.m."</span>,</span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a>      <span class="st">"198"</span><span class="ot">=</span> <span class="st">"4:40 p.m. to 4:44 p.m."</span>,</span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a>      <span class="st">"210"</span><span class="ot">=</span> <span class="st">"5:40 p.m. to 5:44 p.m."</span>,</span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a>      <span class="st">"218"</span><span class="ot">=</span> <span class="st">"6:20 p.m. to 6:24 p.m."</span>,</span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a>      <span class="st">"220"</span><span class="ot">=</span> <span class="st">"6:30 p.m. to 6:34 p.m."</span>,</span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a>      <span class="st">"221"</span><span class="ot">=</span> <span class="st">"6:35 p.m. to 6:39 p.m."</span>,</span>
<span id="cb20-92"><a href="#cb20-92" aria-hidden="true" tabindex="-1"></a>      <span class="st">"222"</span><span class="ot">=</span> <span class="st">"6:40 p.m. to 6:44 p.m."</span>,</span>
<span id="cb20-93"><a href="#cb20-93" aria-hidden="true" tabindex="-1"></a>      <span class="st">"224"</span><span class="ot">=</span> <span class="st">"6:50 p.m. to 6:54 p.m."</span>,</span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a>      <span class="st">"227"</span><span class="ot">=</span> <span class="st">"7:05 p.m. to 7:09 p.m."</span>,</span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a>      <span class="st">"228"</span><span class="ot">=</span> <span class="st">"7:10 p.m. to 7:14 p.m."</span>,</span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a>      <span class="st">"251"</span><span class="ot">=</span> <span class="st">"9:05 p.m. to 9:09 p.m."</span>,</span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a>      <span class="st">"256"</span><span class="ot">=</span> <span class="st">"9:30 p.m. to 9:34 p.m."</span>,</span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a>      <span class="st">"259"</span><span class="ot">=</span> <span class="st">"9:45 p.m. to 9:49 p.m."</span>,</span>
<span id="cb20-99"><a href="#cb20-99" aria-hidden="true" tabindex="-1"></a>      <span class="st">"262"</span><span class="ot">=</span> <span class="st">"10:00 p.m. to 10:04 p.m."</span>,</span>
<span id="cb20-100"><a href="#cb20-100" aria-hidden="true" tabindex="-1"></a>      <span class="st">"270"</span><span class="ot">=</span> <span class="st">"10:40 p.m. to 10:44 p.m."</span>,</span>
<span id="cb20-101"><a href="#cb20-101" aria-hidden="true" tabindex="-1"></a>      <span class="st">"271"</span><span class="ot">=</span> <span class="st">"10:45 p.m. to 10:49 p.m."</span>,</span>
<span id="cb20-102"><a href="#cb20-102" aria-hidden="true" tabindex="-1"></a>      <span class="st">"276"</span><span class="ot">=</span> <span class="st">"11:10 p.m. to 11:14 p.m."</span>,</span>
<span id="cb20-103"><a href="#cb20-103" aria-hidden="true" tabindex="-1"></a>      <span class="st">"284"</span><span class="ot">=</span> <span class="st">"11:50 p.m. to 11:54 p.m."</span>,</span>
<span id="cb20-104"><a href="#cb20-104" aria-hidden="true" tabindex="-1"></a>      <span class="st">"006"</span><span class="ot">=</span> <span class="st">"12:25 a.m. to 12:29 a.m."</span>,</span>
<span id="cb20-105"><a href="#cb20-105" aria-hidden="true" tabindex="-1"></a>      <span class="st">"008"</span><span class="ot">=</span> <span class="st">"12:40 a.m. to 12:44 a.m."</span>,</span>
<span id="cb20-106"><a href="#cb20-106" aria-hidden="true" tabindex="-1"></a>      <span class="st">"009"</span><span class="ot">=</span> <span class="st">"12:45 a.m. to 12:49 a.m."</span>,</span>
<span id="cb20-107"><a href="#cb20-107" aria-hidden="true" tabindex="-1"></a>      <span class="st">"011"</span><span class="ot">=</span> <span class="st">"1:00 a.m. to 1:04 a.m."</span>,</span>
<span id="cb20-108"><a href="#cb20-108" aria-hidden="true" tabindex="-1"></a>      <span class="st">"017"</span><span class="ot">=</span> <span class="st">"1:30 a.m. to 1:34 a.m."</span>,</span>
<span id="cb20-109"><a href="#cb20-109" aria-hidden="true" tabindex="-1"></a>      <span class="st">"020"</span><span class="ot">=</span> <span class="st">"1:45 a.m. to 1:49 a.m."</span>,</span>
<span id="cb20-110"><a href="#cb20-110" aria-hidden="true" tabindex="-1"></a>      <span class="st">"031"</span><span class="ot">=</span> <span class="st">"2:45 a.m. to 2:49 a.m."</span>,</span>
<span id="cb20-111"><a href="#cb20-111" aria-hidden="true" tabindex="-1"></a>      <span class="st">"039"</span><span class="ot">=</span> <span class="st">"3:25 a.m. to 3:29 a.m."</span>,</span>
<span id="cb20-112"><a href="#cb20-112" aria-hidden="true" tabindex="-1"></a>      <span class="st">"053"</span><span class="ot">=</span> <span class="st">"4:35 a.m. to 4:39 a.m."</span>,</span>
<span id="cb20-113"><a href="#cb20-113" aria-hidden="true" tabindex="-1"></a>      <span class="st">"065"</span><span class="ot">=</span> <span class="st">"5:35 a.m. to 5:39 a.m."</span>,</span>
<span id="cb20-114"><a href="#cb20-114" aria-hidden="true" tabindex="-1"></a>      <span class="st">"075"</span><span class="ot">=</span> <span class="st">"6:25 a.m. to 6:29 a.m."</span>,</span>
<span id="cb20-115"><a href="#cb20-115" aria-hidden="true" tabindex="-1"></a>      <span class="st">"085"</span><span class="ot">=</span> <span class="st">"7:15 a.m. to 7:19 a.m."</span>,</span>
<span id="cb20-116"><a href="#cb20-116" aria-hidden="true" tabindex="-1"></a>      <span class="st">"090"</span><span class="ot">=</span> <span class="st">"7:40 a.m. to 7:44 a.m."</span>,</span>
<span id="cb20-117"><a href="#cb20-117" aria-hidden="true" tabindex="-1"></a>      <span class="st">"101"</span><span class="ot">=</span> <span class="st">"8:35 a.m. to 8:39 a.m."</span>,</span>
<span id="cb20-118"><a href="#cb20-118" aria-hidden="true" tabindex="-1"></a>      <span class="st">"107"</span><span class="ot">=</span> <span class="st">"9:05 a.m. to 9:09 a.m."</span>,</span>
<span id="cb20-119"><a href="#cb20-119" aria-hidden="true" tabindex="-1"></a>      <span class="st">"121"</span><span class="ot">=</span> <span class="st">"10:15 a.m. to 10:19 a.m."</span>,</span>
<span id="cb20-120"><a href="#cb20-120" aria-hidden="true" tabindex="-1"></a>      <span class="st">"124"</span><span class="ot">=</span> <span class="st">"10:30 a.m. to 10:34 a.m."</span>,</span>
<span id="cb20-121"><a href="#cb20-121" aria-hidden="true" tabindex="-1"></a>      <span class="st">"137"</span><span class="ot">=</span> <span class="st">"11:35 a.m. to 11:39 a.m."</span>,</span>
<span id="cb20-122"><a href="#cb20-122" aria-hidden="true" tabindex="-1"></a>      <span class="st">"156"</span><span class="ot">=</span> <span class="st">"1:10 p.m. to 1:14 p.m."</span>,</span>
<span id="cb20-123"><a href="#cb20-123" aria-hidden="true" tabindex="-1"></a>      <span class="st">"164"</span><span class="ot">=</span> <span class="st">"1:50 p.m. to 1:54 p.m."</span>,</span>
<span id="cb20-124"><a href="#cb20-124" aria-hidden="true" tabindex="-1"></a>      <span class="st">"173"</span><span class="ot">=</span> <span class="st">"2:35 p.m. to 2:39 p.m."</span>,</span>
<span id="cb20-125"><a href="#cb20-125" aria-hidden="true" tabindex="-1"></a>      <span class="st">"197"</span><span class="ot">=</span> <span class="st">"4:35 p.m. to 4:39 p.m."</span>,</span>
<span id="cb20-126"><a href="#cb20-126" aria-hidden="true" tabindex="-1"></a>      <span class="st">"202"</span><span class="ot">=</span> <span class="st">"5:00 p.m. to 5:04 p.m."</span>,</span>
<span id="cb20-127"><a href="#cb20-127" aria-hidden="true" tabindex="-1"></a>      <span class="st">"234"</span><span class="ot">=</span> <span class="st">"7:40 p.m. to 7:44 p.m."</span>,</span>
<span id="cb20-128"><a href="#cb20-128" aria-hidden="true" tabindex="-1"></a>      <span class="st">"235"</span><span class="ot">=</span> <span class="st">"7:45 p.m. to 7:49 p.m."</span>,</span>
<span id="cb20-129"><a href="#cb20-129" aria-hidden="true" tabindex="-1"></a>      <span class="st">"246"</span><span class="ot">=</span> <span class="st">"8:40 p.m. to 8:44 p.m."</span>,</span>
<span id="cb20-130"><a href="#cb20-130" aria-hidden="true" tabindex="-1"></a>      <span class="st">"249"</span><span class="ot">=</span> <span class="st">"8:55 p.m. to 8:59 p.m."</span>,</span>
<span id="cb20-131"><a href="#cb20-131" aria-hidden="true" tabindex="-1"></a>      <span class="st">"257"</span><span class="ot">=</span> <span class="st">"9:35 p.m. to 9:39 p.m."</span>,</span>
<span id="cb20-132"><a href="#cb20-132" aria-hidden="true" tabindex="-1"></a>      <span class="st">"273"</span><span class="ot">=</span> <span class="st">"10:55 p.m. to 10:59 p.m."</span>,</span>
<span id="cb20-133"><a href="#cb20-133" aria-hidden="true" tabindex="-1"></a>      <span class="st">"277"</span><span class="ot">=</span> <span class="st">"11:15 p.m. to 11:19 p.m."</span>,</span>
<span id="cb20-134"><a href="#cb20-134" aria-hidden="true" tabindex="-1"></a>      <span class="st">"002"</span><span class="ot">=</span> <span class="st">"12:05 a.m. to 12:09 a.m."</span>,</span>
<span id="cb20-135"><a href="#cb20-135" aria-hidden="true" tabindex="-1"></a>      <span class="st">"004"</span><span class="ot">=</span> <span class="st">"12:15 a.m. to 12:19 a.m."</span>,</span>
<span id="cb20-136"><a href="#cb20-136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"015"</span><span class="ot">=</span> <span class="st">"1:20 a.m. to 1:24 a.m."</span>,</span>
<span id="cb20-137"><a href="#cb20-137" aria-hidden="true" tabindex="-1"></a>      <span class="st">"034"</span><span class="ot">=</span> <span class="st">"3:00 a.m. to 3:04 a.m."</span>,</span>
<span id="cb20-138"><a href="#cb20-138" aria-hidden="true" tabindex="-1"></a>      <span class="st">"035"</span><span class="ot">=</span> <span class="st">"3:05 a.m. to 3:09 a.m."</span>,</span>
<span id="cb20-139"><a href="#cb20-139" aria-hidden="true" tabindex="-1"></a>      <span class="st">"042"</span><span class="ot">=</span> <span class="st">"3:40 a.m. to 3:44 a.m."</span>,</span>
<span id="cb20-140"><a href="#cb20-140" aria-hidden="true" tabindex="-1"></a>      <span class="st">"044"</span><span class="ot">=</span> <span class="st">"3:50 a.m. to 3:54 a.m."</span>,</span>
<span id="cb20-141"><a href="#cb20-141" aria-hidden="true" tabindex="-1"></a>      <span class="st">"050"</span><span class="ot">=</span> <span class="st">"4:20 a.m. to 4:24 a.m."</span>,</span>
<span id="cb20-142"><a href="#cb20-142" aria-hidden="true" tabindex="-1"></a>      <span class="st">"052"</span><span class="ot">=</span> <span class="st">"4:30 a.m. to 4:34 a.m."</span>,</span>
<span id="cb20-143"><a href="#cb20-143" aria-hidden="true" tabindex="-1"></a>      <span class="st">"055"</span><span class="ot">=</span> <span class="st">"4:45 a.m. to 4:49 a.m."</span>,</span>
<span id="cb20-144"><a href="#cb20-144" aria-hidden="true" tabindex="-1"></a>      <span class="st">"069"</span><span class="ot">=</span> <span class="st">"5:55 a.m. to 5:59 a.m."</span>,</span>
<span id="cb20-145"><a href="#cb20-145" aria-hidden="true" tabindex="-1"></a>      <span class="st">"071"</span><span class="ot">=</span> <span class="st">"6:05 a.m. to 6:09 a.m."</span>,</span>
<span id="cb20-146"><a href="#cb20-146" aria-hidden="true" tabindex="-1"></a>      <span class="st">"077"</span><span class="ot">=</span> <span class="st">"6:35 a.m. to 6:39 a.m."</span>,</span>
<span id="cb20-147"><a href="#cb20-147" aria-hidden="true" tabindex="-1"></a>      <span class="st">"079"</span><span class="ot">=</span> <span class="st">"6:45 a.m. to 6:49 a.m."</span>,</span>
<span id="cb20-148"><a href="#cb20-148" aria-hidden="true" tabindex="-1"></a>      <span class="st">"082"</span><span class="ot">=</span> <span class="st">"7:00 a.m. to 7:04 a.m."</span>,</span>
<span id="cb20-149"><a href="#cb20-149" aria-hidden="true" tabindex="-1"></a>      <span class="st">"089"</span><span class="ot">=</span> <span class="st">"7:35 a.m. to 7:39 a.m."</span>,</span>
<span id="cb20-150"><a href="#cb20-150" aria-hidden="true" tabindex="-1"></a>      <span class="st">"092"</span><span class="ot">=</span> <span class="st">"7:50 a.m. to 7:54 a.m."</span>,</span>
<span id="cb20-151"><a href="#cb20-151" aria-hidden="true" tabindex="-1"></a>      <span class="st">"093"</span><span class="ot">=</span> <span class="st">"7:55 a.m. to 7:59 a.m."</span>,</span>
<span id="cb20-152"><a href="#cb20-152" aria-hidden="true" tabindex="-1"></a>      <span class="st">"097"</span><span class="ot">=</span> <span class="st">"8:15 a.m. to 8:19 a.m."</span>,</span>
<span id="cb20-153"><a href="#cb20-153" aria-hidden="true" tabindex="-1"></a>      <span class="st">"117"</span><span class="ot">=</span> <span class="st">"9:55 a.m. to 9:59 a.m."</span>,</span>
<span id="cb20-154"><a href="#cb20-154" aria-hidden="true" tabindex="-1"></a>      <span class="st">"118"</span><span class="ot">=</span> <span class="st">"10:00 a.m. to 10:04 a.m."</span>,</span>
<span id="cb20-155"><a href="#cb20-155" aria-hidden="true" tabindex="-1"></a>      <span class="st">"129"</span><span class="ot">=</span> <span class="st">"10:55 a.m. to 10:59 a.m."</span>,</span>
<span id="cb20-156"><a href="#cb20-156" aria-hidden="true" tabindex="-1"></a>      <span class="st">"132"</span><span class="ot">=</span> <span class="st">"11:10 a.m. to 11:14 a.m."</span>,</span>
<span id="cb20-157"><a href="#cb20-157" aria-hidden="true" tabindex="-1"></a>      <span class="st">"138"</span><span class="ot">=</span> <span class="st">"11:40 a.m. to 11:44 a.m."</span>,</span>
<span id="cb20-158"><a href="#cb20-158" aria-hidden="true" tabindex="-1"></a>      <span class="st">"144"</span><span class="ot">=</span> <span class="st">"12:10 p.m. to 12:14 p.m."</span>,</span>
<span id="cb20-159"><a href="#cb20-159" aria-hidden="true" tabindex="-1"></a>      <span class="st">"148"</span><span class="ot">=</span> <span class="st">"12:30 p.m. to 12:34 p.m."</span>,</span>
<span id="cb20-160"><a href="#cb20-160" aria-hidden="true" tabindex="-1"></a>      <span class="st">"150"</span><span class="ot">=</span> <span class="st">"12:40 p.m. to 12:44 p.m."</span>,</span>
<span id="cb20-161"><a href="#cb20-161" aria-hidden="true" tabindex="-1"></a>      <span class="st">"152"</span><span class="ot">=</span> <span class="st">"12:50 p.m. to 12:54 p.m."</span>,</span>
<span id="cb20-162"><a href="#cb20-162" aria-hidden="true" tabindex="-1"></a>      <span class="st">"166"</span><span class="ot">=</span> <span class="st">"2:00 p.m. to 2:04 p.m."</span>,</span>
<span id="cb20-163"><a href="#cb20-163" aria-hidden="true" tabindex="-1"></a>      <span class="st">"181"</span><span class="ot">=</span> <span class="st">"3:15 p.m. to 3:19 p.m."</span>,</span>
<span id="cb20-164"><a href="#cb20-164" aria-hidden="true" tabindex="-1"></a>      <span class="st">"183"</span><span class="ot">=</span> <span class="st">"3:25 p.m. to 3:29 p.m."</span>,</span>
<span id="cb20-165"><a href="#cb20-165" aria-hidden="true" tabindex="-1"></a>      <span class="st">"205"</span><span class="ot">=</span> <span class="st">"5:15 p.m. to 5:19 p.m."</span>,</span>
<span id="cb20-166"><a href="#cb20-166" aria-hidden="true" tabindex="-1"></a>      <span class="st">"219"</span><span class="ot">=</span> <span class="st">"6:25 p.m. to 6:29 p.m."</span>,</span>
<span id="cb20-167"><a href="#cb20-167" aria-hidden="true" tabindex="-1"></a>      <span class="st">"230"</span><span class="ot">=</span> <span class="st">"7:20 p.m. to 7:24 p.m."</span>,</span>
<span id="cb20-168"><a href="#cb20-168" aria-hidden="true" tabindex="-1"></a>      <span class="st">"233"</span><span class="ot">=</span> <span class="st">"7:35 p.m. to 7:39 p.m."</span>,</span>
<span id="cb20-169"><a href="#cb20-169" aria-hidden="true" tabindex="-1"></a>      <span class="st">"239"</span><span class="ot">=</span> <span class="st">"8:05 p.m. to 8:09 p.m."</span>,</span>
<span id="cb20-170"><a href="#cb20-170" aria-hidden="true" tabindex="-1"></a>      <span class="st">"244"</span><span class="ot">=</span> <span class="st">"8:30 p.m. to 8:34 p.m."</span>,</span>
<span id="cb20-171"><a href="#cb20-171" aria-hidden="true" tabindex="-1"></a>      <span class="st">"254"</span><span class="ot">=</span> <span class="st">"9:20 p.m. to 9:24 p.m."</span>,</span>
<span id="cb20-172"><a href="#cb20-172" aria-hidden="true" tabindex="-1"></a>      <span class="st">"265"</span><span class="ot">=</span> <span class="st">"10:15 p.m. to 10:19 p.m."</span>,</span>
<span id="cb20-173"><a href="#cb20-173" aria-hidden="true" tabindex="-1"></a>      <span class="st">"272"</span><span class="ot">=</span> <span class="st">"10:50 p.m. to 10:54 p.m."</span>,</span>
<span id="cb20-174"><a href="#cb20-174" aria-hidden="true" tabindex="-1"></a>      <span class="st">"013"</span><span class="ot">=</span> <span class="st">"1:10 a.m. to 1:14 a.m."</span>,</span>
<span id="cb20-175"><a href="#cb20-175" aria-hidden="true" tabindex="-1"></a>      <span class="st">"014"</span><span class="ot">=</span> <span class="st">"1:15 a.m. to 1:19 a.m."</span>,</span>
<span id="cb20-176"><a href="#cb20-176" aria-hidden="true" tabindex="-1"></a>      <span class="st">"019"</span><span class="ot">=</span> <span class="st">"1:40 a.m. to 1:44 a.m."</span>,</span>
<span id="cb20-177"><a href="#cb20-177" aria-hidden="true" tabindex="-1"></a>      <span class="st">"022"</span><span class="ot">=</span> <span class="st">"2:00 a.m. to 2:04 a.m."</span>,</span>
<span id="cb20-178"><a href="#cb20-178" aria-hidden="true" tabindex="-1"></a>      <span class="st">"033"</span><span class="ot">=</span> <span class="st">"2:55 a.m. to 2:59 a.m."</span>,</span>
<span id="cb20-179"><a href="#cb20-179" aria-hidden="true" tabindex="-1"></a>      <span class="st">"037"</span><span class="ot">=</span> <span class="st">"3:15 a.m. to 3:19 a.m."</span>,</span>
<span id="cb20-180"><a href="#cb20-180" aria-hidden="true" tabindex="-1"></a>      <span class="st">"041"</span><span class="ot">=</span> <span class="st">"3:35 a.m. to 3:39 a.m."</span>,</span>
<span id="cb20-181"><a href="#cb20-181" aria-hidden="true" tabindex="-1"></a>      <span class="st">"059"</span><span class="ot">=</span> <span class="st">"5:05 a.m. to 5:09 a.m."</span>,</span>
<span id="cb20-182"><a href="#cb20-182" aria-hidden="true" tabindex="-1"></a>      <span class="st">"067"</span><span class="ot">=</span> <span class="st">"5:45 a.m. to 5:49 a.m."</span>,</span>
<span id="cb20-183"><a href="#cb20-183" aria-hidden="true" tabindex="-1"></a>      <span class="st">"068"</span><span class="ot">=</span> <span class="st">"5:50 a.m. to 5:54 a.m."</span>,</span>
<span id="cb20-184"><a href="#cb20-184" aria-hidden="true" tabindex="-1"></a>      <span class="st">"074"</span><span class="ot">=</span> <span class="st">"6:20 a.m. to 6:24 a.m."</span>,</span>
<span id="cb20-185"><a href="#cb20-185" aria-hidden="true" tabindex="-1"></a>      <span class="st">"080"</span><span class="ot">=</span> <span class="st">"6:50 a.m. to 6:54 a.m."</span>,</span>
<span id="cb20-186"><a href="#cb20-186" aria-hidden="true" tabindex="-1"></a>      <span class="st">"084"</span><span class="ot">=</span> <span class="st">"7:10 a.m. to 7:14 a.m."</span>,</span>
<span id="cb20-187"><a href="#cb20-187" aria-hidden="true" tabindex="-1"></a>      <span class="st">"088"</span><span class="ot">=</span> <span class="st">"7:30 a.m. to 7:34 a.m."</span>,</span>
<span id="cb20-188"><a href="#cb20-188" aria-hidden="true" tabindex="-1"></a>      <span class="st">"095"</span><span class="ot">=</span> <span class="st">"8:05 a.m. to 8:09 a.m."</span>,</span>
<span id="cb20-189"><a href="#cb20-189" aria-hidden="true" tabindex="-1"></a>      <span class="st">"100"</span><span class="ot">=</span> <span class="st">"8:30 a.m. to 8:34 a.m."</span>,</span>
<span id="cb20-190"><a href="#cb20-190" aria-hidden="true" tabindex="-1"></a>      <span class="st">"125"</span><span class="ot">=</span> <span class="st">"10:35 a.m. to 10:39 a.m."</span>,</span>
<span id="cb20-191"><a href="#cb20-191" aria-hidden="true" tabindex="-1"></a>      <span class="st">"140"</span><span class="ot">=</span> <span class="st">"11:50 a.m. to 11:54 a.m."</span>,</span>
<span id="cb20-192"><a href="#cb20-192" aria-hidden="true" tabindex="-1"></a>      <span class="st">"172"</span><span class="ot">=</span> <span class="st">"2:30 p.m. to 2:34 p.m."</span>,</span>
<span id="cb20-193"><a href="#cb20-193" aria-hidden="true" tabindex="-1"></a>      <span class="st">"178"</span><span class="ot">=</span> <span class="st">"3:00 p.m. to 3:04 p.m."</span>,</span>
<span id="cb20-194"><a href="#cb20-194" aria-hidden="true" tabindex="-1"></a>      <span class="st">"182"</span><span class="ot">=</span> <span class="st">"3:20 p.m. to 3:24 p.m."</span>,</span>
<span id="cb20-195"><a href="#cb20-195" aria-hidden="true" tabindex="-1"></a>      <span class="st">"185"</span><span class="ot">=</span> <span class="st">"3:35 p.m. to 3:39 p.m."</span>,</span>
<span id="cb20-196"><a href="#cb20-196" aria-hidden="true" tabindex="-1"></a>      <span class="st">"187"</span><span class="ot">=</span> <span class="st">"3:45 p.m. to 3:49 p.m."</span>,</span>
<span id="cb20-197"><a href="#cb20-197" aria-hidden="true" tabindex="-1"></a>      <span class="st">"199"</span><span class="ot">=</span> <span class="st">"4:45 p.m. to 4:49 p.m."</span>,</span>
<span id="cb20-198"><a href="#cb20-198" aria-hidden="true" tabindex="-1"></a>      <span class="st">"206"</span><span class="ot">=</span> <span class="st">"5:20 p.m. to 5:24 p.m."</span>,</span>
<span id="cb20-199"><a href="#cb20-199" aria-hidden="true" tabindex="-1"></a>      <span class="st">"208"</span><span class="ot">=</span> <span class="st">"5:30 p.m. to 5:34 p.m."</span>,</span>
<span id="cb20-200"><a href="#cb20-200" aria-hidden="true" tabindex="-1"></a>      <span class="st">"209"</span><span class="ot">=</span> <span class="st">"5:35 p.m. to 5:39 p.m."</span>,</span>
<span id="cb20-201"><a href="#cb20-201" aria-hidden="true" tabindex="-1"></a>      <span class="st">"243"</span><span class="ot">=</span> <span class="st">"8:25 p.m. to 8:29 p.m."</span>,</span>
<span id="cb20-202"><a href="#cb20-202" aria-hidden="true" tabindex="-1"></a>      <span class="st">"268"</span><span class="ot">=</span> <span class="st">"10:30 p.m. to 10:34 p.m."</span>,</span>
<span id="cb20-203"><a href="#cb20-203" aria-hidden="true" tabindex="-1"></a>      <span class="st">"269"</span><span class="ot">=</span> <span class="st">"10:35 p.m. to 10:39 p.m."</span>,</span>
<span id="cb20-204"><a href="#cb20-204" aria-hidden="true" tabindex="-1"></a>      <span class="st">"279"</span><span class="ot">=</span> <span class="st">"11:25 p.m. to 11:29 p.m."</span>,</span>
<span id="cb20-205"><a href="#cb20-205" aria-hidden="true" tabindex="-1"></a>      <span class="st">"001"</span><span class="ot">=</span> <span class="st">"12:00 a.m. to 12:04 a.m."</span>,</span>
<span id="cb20-206"><a href="#cb20-206" aria-hidden="true" tabindex="-1"></a>      <span class="st">"005"</span><span class="ot">=</span> <span class="st">"12:20 a.m. to 12:24 a.m."</span>,</span>
<span id="cb20-207"><a href="#cb20-207" aria-hidden="true" tabindex="-1"></a>      <span class="st">"007"</span><span class="ot">=</span> <span class="st">"12:30 a.m. to 12:39 a.m."</span>,</span>
<span id="cb20-208"><a href="#cb20-208" aria-hidden="true" tabindex="-1"></a>      <span class="st">"023"</span><span class="ot">=</span> <span class="st">"2:05 a.m. to 2:09 a.m."</span>,</span>
<span id="cb20-209"><a href="#cb20-209" aria-hidden="true" tabindex="-1"></a>      <span class="st">"025"</span><span class="ot">=</span> <span class="st">"2:15 a.m. to 2:19 a.m."</span>,</span>
<span id="cb20-210"><a href="#cb20-210" aria-hidden="true" tabindex="-1"></a>      <span class="st">"029"</span><span class="ot">=</span> <span class="st">"2:35 a.m. to 2:39 a.m."</span>,</span>
<span id="cb20-211"><a href="#cb20-211" aria-hidden="true" tabindex="-1"></a>      <span class="st">"036"</span><span class="ot">=</span> <span class="st">"3:10 a.m. to 3:14 a.m."</span>,</span>
<span id="cb20-212"><a href="#cb20-212" aria-hidden="true" tabindex="-1"></a>      <span class="st">"043"</span><span class="ot">=</span> <span class="st">"3:45 a.m. to 3:49 a.m."</span>,</span>
<span id="cb20-213"><a href="#cb20-213" aria-hidden="true" tabindex="-1"></a>      <span class="st">"046"</span><span class="ot">=</span> <span class="st">"4:00 a.m. to 4:04 a.m."</span>,</span>
<span id="cb20-214"><a href="#cb20-214" aria-hidden="true" tabindex="-1"></a>      <span class="st">"051"</span><span class="ot">=</span> <span class="st">"4:25 a.m. to 4:29 a.m."</span>,</span>
<span id="cb20-215"><a href="#cb20-215" aria-hidden="true" tabindex="-1"></a>      <span class="st">"056"</span><span class="ot">=</span> <span class="st">"4:50 a.m. to 4:54 a.m."</span>,</span>
<span id="cb20-216"><a href="#cb20-216" aria-hidden="true" tabindex="-1"></a>      <span class="st">"073"</span><span class="ot">=</span> <span class="st">"6:15 a.m. to 6:19 a.m."</span>,</span>
<span id="cb20-217"><a href="#cb20-217" aria-hidden="true" tabindex="-1"></a>      <span class="st">"081"</span><span class="ot">=</span> <span class="st">"6:55 a.m. to 6:59 a.m."</span>,</span>
<span id="cb20-218"><a href="#cb20-218" aria-hidden="true" tabindex="-1"></a>      <span class="st">"098"</span><span class="ot">=</span> <span class="st">"8:20 a.m. to 8:24 a.m."</span>,</span>
<span id="cb20-219"><a href="#cb20-219" aria-hidden="true" tabindex="-1"></a>      <span class="st">"103"</span><span class="ot">=</span> <span class="st">"8:45 a.m. to 8:49 a.m."</span>,</span>
<span id="cb20-220"><a href="#cb20-220" aria-hidden="true" tabindex="-1"></a>      <span class="st">"106"</span><span class="ot">=</span> <span class="st">"9:00 a.m. to 9:04 a.m."</span>,</span>
<span id="cb20-221"><a href="#cb20-221" aria-hidden="true" tabindex="-1"></a>      <span class="st">"114"</span><span class="ot">=</span> <span class="st">"9:40 a.m. to 9:44 a.m."</span>,</span>
<span id="cb20-222"><a href="#cb20-222" aria-hidden="true" tabindex="-1"></a>      <span class="st">"135"</span><span class="ot">=</span> <span class="st">"11:25 a.m. to 11:29 a.m."</span>,</span>
<span id="cb20-223"><a href="#cb20-223" aria-hidden="true" tabindex="-1"></a>      <span class="st">"143"</span><span class="ot">=</span> <span class="st">"12:05 p.m. to 12:09 p.m."</span>,</span>
<span id="cb20-224"><a href="#cb20-224" aria-hidden="true" tabindex="-1"></a>      <span class="st">"149"</span><span class="ot">=</span> <span class="st">"12:35 p.m. to 12:39 p.m."</span>,</span>
<span id="cb20-225"><a href="#cb20-225" aria-hidden="true" tabindex="-1"></a>      <span class="st">"157"</span><span class="ot">=</span> <span class="st">"1:15 p.m. to 1:19 p.m."</span>,</span>
<span id="cb20-226"><a href="#cb20-226" aria-hidden="true" tabindex="-1"></a>      <span class="st">"158"</span><span class="ot">=</span> <span class="st">"1:20 p.m. to 1:24 p.m."</span>,</span>
<span id="cb20-227"><a href="#cb20-227" aria-hidden="true" tabindex="-1"></a>      <span class="st">"160"</span><span class="ot">=</span> <span class="st">"1:30 p.m. to 1:34 p.m."</span>,</span>
<span id="cb20-228"><a href="#cb20-228" aria-hidden="true" tabindex="-1"></a>      <span class="st">"170"</span><span class="ot">=</span> <span class="st">"2:20 p.m. to 2:24 p.m."</span>,</span>
<span id="cb20-229"><a href="#cb20-229" aria-hidden="true" tabindex="-1"></a>      <span class="st">"174"</span><span class="ot">=</span> <span class="st">"2:40 p.m. to 2:44 p.m."</span>,</span>
<span id="cb20-230"><a href="#cb20-230" aria-hidden="true" tabindex="-1"></a>      <span class="st">"179"</span><span class="ot">=</span> <span class="st">"3:05 p.m. to 3:09 p.m."</span>,</span>
<span id="cb20-231"><a href="#cb20-231" aria-hidden="true" tabindex="-1"></a>      <span class="st">"194"</span><span class="ot">=</span> <span class="st">"4:20 p.m. to 4:24 p.m."</span>,</span>
<span id="cb20-232"><a href="#cb20-232" aria-hidden="true" tabindex="-1"></a>      <span class="st">"196"</span><span class="ot">=</span> <span class="st">"4:30 p.m. to 4:34 p.m."</span>,</span>
<span id="cb20-233"><a href="#cb20-233" aria-hidden="true" tabindex="-1"></a>      <span class="st">"211"</span><span class="ot">=</span> <span class="st">"5:45 p.m. to 5:49 p.m."</span>,</span>
<span id="cb20-234"><a href="#cb20-234" aria-hidden="true" tabindex="-1"></a>      <span class="st">"212"</span><span class="ot">=</span> <span class="st">"5:50 p.m. to 5:54 p.m."</span>,</span>
<span id="cb20-235"><a href="#cb20-235" aria-hidden="true" tabindex="-1"></a>      <span class="st">"214"</span><span class="ot">=</span> <span class="st">"6:00 p.m. to 6:04 p.m."</span>,</span>
<span id="cb20-236"><a href="#cb20-236" aria-hidden="true" tabindex="-1"></a>      <span class="st">"241"</span><span class="ot">=</span> <span class="st">"8:15 p.m. to 8:19 p.m."</span>,</span>
<span id="cb20-237"><a href="#cb20-237" aria-hidden="true" tabindex="-1"></a>      <span class="st">"264"</span><span class="ot">=</span> <span class="st">"10:10 p.m. to 10:14 p.m."</span>,</span>
<span id="cb20-238"><a href="#cb20-238" aria-hidden="true" tabindex="-1"></a>      <span class="st">"266"</span><span class="ot">=</span> <span class="st">"10:20 p.m. to 10:24 p.m."</span>,</span>
<span id="cb20-239"><a href="#cb20-239" aria-hidden="true" tabindex="-1"></a>      <span class="st">"016"</span><span class="ot">=</span> <span class="st">"1:25 a.m. to 1:29 a.m."</span>,</span>
<span id="cb20-240"><a href="#cb20-240" aria-hidden="true" tabindex="-1"></a>      <span class="st">"018"</span><span class="ot">=</span> <span class="st">"1:35 a.m. to 1:39 a.m."</span>,</span>
<span id="cb20-241"><a href="#cb20-241" aria-hidden="true" tabindex="-1"></a>      <span class="st">"021"</span><span class="ot">=</span> <span class="st">"1:50 a.m. to 1:59 a.m."</span>,</span>
<span id="cb20-242"><a href="#cb20-242" aria-hidden="true" tabindex="-1"></a>      <span class="st">"028"</span><span class="ot">=</span> <span class="st">"2:30 a.m. to 2:34 a.m."</span>,</span>
<span id="cb20-243"><a href="#cb20-243" aria-hidden="true" tabindex="-1"></a>      <span class="st">"054"</span><span class="ot">=</span> <span class="st">"4:40 a.m. to 4:44 a.m."</span>,</span>
<span id="cb20-244"><a href="#cb20-244" aria-hidden="true" tabindex="-1"></a>      <span class="st">"060"</span><span class="ot">=</span> <span class="st">"5:10 a.m. to 5:14 a.m."</span>,</span>
<span id="cb20-245"><a href="#cb20-245" aria-hidden="true" tabindex="-1"></a>      <span class="st">"064"</span><span class="ot">=</span> <span class="st">"5:30 a.m. to 5:34 a.m."</span>,</span>
<span id="cb20-246"><a href="#cb20-246" aria-hidden="true" tabindex="-1"></a>      <span class="st">"070"</span><span class="ot">=</span> <span class="st">"6:00 a.m. to 6:04 a.m."</span>,</span>
<span id="cb20-247"><a href="#cb20-247" aria-hidden="true" tabindex="-1"></a>      <span class="st">"078"</span><span class="ot">=</span> <span class="st">"6:40 a.m. to 6:44 a.m."</span>,</span>
<span id="cb20-248"><a href="#cb20-248" aria-hidden="true" tabindex="-1"></a>      <span class="st">"087"</span><span class="ot">=</span> <span class="st">"7:25 a.m. to 7:29 a.m."</span>,</span>
<span id="cb20-249"><a href="#cb20-249" aria-hidden="true" tabindex="-1"></a>      <span class="st">"105"</span><span class="ot">=</span> <span class="st">"8:55 a.m. to 8:59 a.m."</span>,</span>
<span id="cb20-250"><a href="#cb20-250" aria-hidden="true" tabindex="-1"></a>      <span class="st">"111"</span><span class="ot">=</span> <span class="st">"9:25 a.m. to 9:29 a.m."</span>,</span>
<span id="cb20-251"><a href="#cb20-251" aria-hidden="true" tabindex="-1"></a>      <span class="st">"119"</span><span class="ot">=</span> <span class="st">"10:05 a.m. to 10:09 a.m."</span>,</span>
<span id="cb20-252"><a href="#cb20-252" aria-hidden="true" tabindex="-1"></a>      <span class="st">"123"</span><span class="ot">=</span> <span class="st">"10:25 a.m. to 10:29 a.m."</span>,</span>
<span id="cb20-253"><a href="#cb20-253" aria-hidden="true" tabindex="-1"></a>      <span class="st">"126"</span><span class="ot">=</span> <span class="st">"10:40 a.m. to 10:44 a.m."</span>,</span>
<span id="cb20-254"><a href="#cb20-254" aria-hidden="true" tabindex="-1"></a>      <span class="st">"134"</span><span class="ot">=</span> <span class="st">"11:20 a.m. to 11:24 a.m."</span>,</span>
<span id="cb20-255"><a href="#cb20-255" aria-hidden="true" tabindex="-1"></a>      <span class="st">"139"</span><span class="ot">=</span> <span class="st">"11:45 a.m. to 11:49 a.m."</span>,</span>
<span id="cb20-256"><a href="#cb20-256" aria-hidden="true" tabindex="-1"></a>      <span class="st">"141"</span><span class="ot">=</span> <span class="st">"11:55 a.m. to 11:59 a.m."</span>,</span>
<span id="cb20-257"><a href="#cb20-257" aria-hidden="true" tabindex="-1"></a>      <span class="st">"151"</span><span class="ot">=</span> <span class="st">"12:45 p.m. to 12:49 p.m."</span>,</span>
<span id="cb20-258"><a href="#cb20-258" aria-hidden="true" tabindex="-1"></a>      <span class="st">"153"</span><span class="ot">=</span> <span class="st">"12:55 p.m. to 12:59 p.m."</span>,</span>
<span id="cb20-259"><a href="#cb20-259" aria-hidden="true" tabindex="-1"></a>      <span class="st">"169"</span><span class="ot">=</span> <span class="st">"2:15 p.m. to 2:19 p.m."</span>,</span>
<span id="cb20-260"><a href="#cb20-260" aria-hidden="true" tabindex="-1"></a>      <span class="st">"180"</span><span class="ot">=</span> <span class="st">"3:10 p.m. to 3:14 p.m."</span>,</span>
<span id="cb20-261"><a href="#cb20-261" aria-hidden="true" tabindex="-1"></a>      <span class="st">"203"</span><span class="ot">=</span> <span class="st">"5:05 p.m. to 5:09 p.m."</span>,</span>
<span id="cb20-262"><a href="#cb20-262" aria-hidden="true" tabindex="-1"></a>      <span class="st">"204"</span><span class="ot">=</span> <span class="st">"5:10 p.m. to 5:14 p.m."</span>,</span>
<span id="cb20-263"><a href="#cb20-263" aria-hidden="true" tabindex="-1"></a>      <span class="st">"207"</span><span class="ot">=</span> <span class="st">"5:25 p.m. to 5:29 p.m."</span>,</span>
<span id="cb20-264"><a href="#cb20-264" aria-hidden="true" tabindex="-1"></a>      <span class="st">"215"</span><span class="ot">=</span> <span class="st">"6:05 p.m. to 6:09 p.m."</span>,</span>
<span id="cb20-265"><a href="#cb20-265" aria-hidden="true" tabindex="-1"></a>      <span class="st">"216"</span><span class="ot">=</span> <span class="st">"6:10 p.m. to 6:14 p.m."</span>,</span>
<span id="cb20-266"><a href="#cb20-266" aria-hidden="true" tabindex="-1"></a>      <span class="st">"217"</span><span class="ot">=</span> <span class="st">"6:15 p.m. to 6:19 p.m."</span>,</span>
<span id="cb20-267"><a href="#cb20-267" aria-hidden="true" tabindex="-1"></a>      <span class="st">"223"</span><span class="ot">=</span> <span class="st">"6:45 p.m. to 6:49 p.m."</span>,</span>
<span id="cb20-268"><a href="#cb20-268" aria-hidden="true" tabindex="-1"></a>      <span class="st">"225"</span><span class="ot">=</span> <span class="st">"6:55 p.m. to 6:59 p.m."</span>,</span>
<span id="cb20-269"><a href="#cb20-269" aria-hidden="true" tabindex="-1"></a>      <span class="st">"247"</span><span class="ot">=</span> <span class="st">"8:45 p.m. to 8:49 p.m."</span>,</span>
<span id="cb20-270"><a href="#cb20-270" aria-hidden="true" tabindex="-1"></a>      <span class="st">"248"</span><span class="ot">=</span> <span class="st">"8:50 p.m. to 8:54 p.m."</span>,</span>
<span id="cb20-271"><a href="#cb20-271" aria-hidden="true" tabindex="-1"></a>      <span class="st">"252"</span><span class="ot">=</span> <span class="st">"9:10 p.m. to 9:14 p.m."</span>,</span>
<span id="cb20-272"><a href="#cb20-272" aria-hidden="true" tabindex="-1"></a>      <span class="st">"253"</span><span class="ot">=</span> <span class="st">"9:15 p.m. to 9:19 p.m."</span>,</span>
<span id="cb20-273"><a href="#cb20-273" aria-hidden="true" tabindex="-1"></a>      <span class="st">"255"</span><span class="ot">=</span> <span class="st">"9:25 p.m. to 9:29 p.m."</span>,</span>
<span id="cb20-274"><a href="#cb20-274" aria-hidden="true" tabindex="-1"></a>      <span class="st">"263"</span><span class="ot">=</span> <span class="st">"10:05 p.m. to 10:09 p.m."</span>,</span>
<span id="cb20-275"><a href="#cb20-275" aria-hidden="true" tabindex="-1"></a>      <span class="st">"267"</span><span class="ot">=</span> <span class="st">"10:25 p.m. to 10:29 p.m."</span>,</span>
<span id="cb20-276"><a href="#cb20-276" aria-hidden="true" tabindex="-1"></a>      <span class="st">"278"</span><span class="ot">=</span> <span class="st">"11:20 p.m. to 11:24 p.m."</span>,</span>
<span id="cb20-277"><a href="#cb20-277" aria-hidden="true" tabindex="-1"></a>      <span class="st">"280"</span><span class="ot">=</span> <span class="st">"11:30 p.m. to 11:34 p.m."</span>,</span>
<span id="cb20-278"><a href="#cb20-278" aria-hidden="true" tabindex="-1"></a>      <span class="st">"281"</span><span class="ot">=</span> <span class="st">"11:35 p.m. to 11:39 p.m."</span>,</span>
<span id="cb20-279"><a href="#cb20-279" aria-hidden="true" tabindex="-1"></a>      <span class="st">"282"</span><span class="ot">=</span> <span class="st">"11:40 p.m. to 11:44 p.m."</span>,</span>
<span id="cb20-280"><a href="#cb20-280" aria-hidden="true" tabindex="-1"></a>      <span class="st">"003"</span><span class="ot">=</span> <span class="st">"12:10 a.m. to 12:14 a.m."</span>,</span>
<span id="cb20-281"><a href="#cb20-281" aria-hidden="true" tabindex="-1"></a>      <span class="st">"010"</span><span class="ot">=</span> <span class="st">"12:50 a.m. to 12:59 a.m."</span>,</span>
<span id="cb20-282"><a href="#cb20-282" aria-hidden="true" tabindex="-1"></a>      <span class="st">"038"</span><span class="ot">=</span> <span class="st">"3:20 a.m. to 3:24 a.m."</span>,</span>
<span id="cb20-283"><a href="#cb20-283" aria-hidden="true" tabindex="-1"></a>      <span class="st">"049"</span><span class="ot">=</span> <span class="st">"4:15 a.m. to 4:19 a.m."</span>,</span>
<span id="cb20-284"><a href="#cb20-284" aria-hidden="true" tabindex="-1"></a>      <span class="st">"057"</span><span class="ot">=</span> <span class="st">"4:55 a.m. to 4:59 a.m."</span>,</span>
<span id="cb20-285"><a href="#cb20-285" aria-hidden="true" tabindex="-1"></a>      <span class="st">"061"</span><span class="ot">=</span> <span class="st">"5:15 a.m. to 5:19 a.m."</span>,</span>
<span id="cb20-286"><a href="#cb20-286" aria-hidden="true" tabindex="-1"></a>      <span class="st">"062"</span><span class="ot">=</span> <span class="st">"5:20 a.m. to 5:24 a.m."</span>,</span>
<span id="cb20-287"><a href="#cb20-287" aria-hidden="true" tabindex="-1"></a>      <span class="st">"072"</span><span class="ot">=</span> <span class="st">"6:10 a.m. to 6:14 a.m."</span>,</span>
<span id="cb20-288"><a href="#cb20-288" aria-hidden="true" tabindex="-1"></a>      <span class="st">"083"</span><span class="ot">=</span> <span class="st">"7:05 a.m. to 7:09 a.m."</span>,</span>
<span id="cb20-289"><a href="#cb20-289" aria-hidden="true" tabindex="-1"></a>      <span class="st">"104"</span><span class="ot">=</span> <span class="st">"8:50 a.m. to 8:54 a.m."</span>,</span>
<span id="cb20-290"><a href="#cb20-290" aria-hidden="true" tabindex="-1"></a>      <span class="st">"108"</span><span class="ot">=</span> <span class="st">"9:10 a.m. to 9:14 a.m."</span>,</span>
<span id="cb20-291"><a href="#cb20-291" aria-hidden="true" tabindex="-1"></a>      <span class="st">"116"</span><span class="ot">=</span> <span class="st">"9:50 a.m. to 9:54 a.m."</span>,</span>
<span id="cb20-292"><a href="#cb20-292" aria-hidden="true" tabindex="-1"></a>      <span class="st">"128"</span><span class="ot">=</span> <span class="st">"10:50 a.m. to 10:54 a.m."</span>,</span>
<span id="cb20-293"><a href="#cb20-293" aria-hidden="true" tabindex="-1"></a>      <span class="st">"133"</span><span class="ot">=</span> <span class="st">"11:15 a.m. to 11:19 a.m."</span>,</span>
<span id="cb20-294"><a href="#cb20-294" aria-hidden="true" tabindex="-1"></a>      <span class="st">"136"</span><span class="ot">=</span> <span class="st">"11:30 a.m. to 11:34 a.m."</span>,</span>
<span id="cb20-295"><a href="#cb20-295" aria-hidden="true" tabindex="-1"></a>      <span class="st">"147"</span><span class="ot">=</span> <span class="st">"12:25 p.m. to 12:29 p.m."</span>,</span>
<span id="cb20-296"><a href="#cb20-296" aria-hidden="true" tabindex="-1"></a>      <span class="st">"154"</span><span class="ot">=</span> <span class="st">"1:00 p.m. to 1:04 p.m."</span>,</span>
<span id="cb20-297"><a href="#cb20-297" aria-hidden="true" tabindex="-1"></a>      <span class="st">"155"</span><span class="ot">=</span> <span class="st">"1:05 p.m. to 1:09 p.m."</span>,</span>
<span id="cb20-298"><a href="#cb20-298" aria-hidden="true" tabindex="-1"></a>      <span class="st">"161"</span><span class="ot">=</span> <span class="st">"1:35 p.m. to 1:39 p.m."</span>,</span>
<span id="cb20-299"><a href="#cb20-299" aria-hidden="true" tabindex="-1"></a>      <span class="st">"162"</span><span class="ot">=</span> <span class="st">"1:40 p.m. to 1:44 p.m."</span>,</span>
<span id="cb20-300"><a href="#cb20-300" aria-hidden="true" tabindex="-1"></a>      <span class="st">"167"</span><span class="ot">=</span> <span class="st">"2:05 p.m. to 2:09 p.m."</span>,</span>
<span id="cb20-301"><a href="#cb20-301" aria-hidden="true" tabindex="-1"></a>      <span class="st">"175"</span><span class="ot">=</span> <span class="st">"2:45 p.m. to 2:49 p.m."</span>,</span>
<span id="cb20-302"><a href="#cb20-302" aria-hidden="true" tabindex="-1"></a>      <span class="st">"177"</span><span class="ot">=</span> <span class="st">"2:55 p.m. to 2:59 p.m."</span>,</span>
<span id="cb20-303"><a href="#cb20-303" aria-hidden="true" tabindex="-1"></a>      <span class="st">"186"</span><span class="ot">=</span> <span class="st">"3:40 p.m. to 3:44 p.m."</span>,</span>
<span id="cb20-304"><a href="#cb20-304" aria-hidden="true" tabindex="-1"></a>      <span class="st">"190"</span><span class="ot">=</span> <span class="st">"4:00 p.m. to 4:04 p.m."</span>,</span>
<span id="cb20-305"><a href="#cb20-305" aria-hidden="true" tabindex="-1"></a>      <span class="st">"191"</span><span class="ot">=</span> <span class="st">"4:05 p.m. to 4:09 p.m."</span>,</span>
<span id="cb20-306"><a href="#cb20-306" aria-hidden="true" tabindex="-1"></a>      <span class="st">"193"</span><span class="ot">=</span> <span class="st">"4:15 p.m. to 4:19 p.m."</span>,</span>
<span id="cb20-307"><a href="#cb20-307" aria-hidden="true" tabindex="-1"></a>      <span class="st">"200"</span><span class="ot">=</span> <span class="st">"4:50 p.m. to 4:54 p.m."</span>,</span>
<span id="cb20-308"><a href="#cb20-308" aria-hidden="true" tabindex="-1"></a>      <span class="st">"201"</span><span class="ot">=</span> <span class="st">"4:55 p.m. to 4:59 p.m."</span>,</span>
<span id="cb20-309"><a href="#cb20-309" aria-hidden="true" tabindex="-1"></a>      <span class="st">"226"</span><span class="ot">=</span> <span class="st">"7:00 p.m. to 7:04 p.m."</span>,</span>
<span id="cb20-310"><a href="#cb20-310" aria-hidden="true" tabindex="-1"></a>      <span class="st">"232"</span><span class="ot">=</span> <span class="st">"7:30 p.m. to 7:34 p.m."</span>,</span>
<span id="cb20-311"><a href="#cb20-311" aria-hidden="true" tabindex="-1"></a>      <span class="st">"236"</span><span class="ot">=</span> <span class="st">"7:50 p.m. to 7:54 p.m."</span>,</span>
<span id="cb20-312"><a href="#cb20-312" aria-hidden="true" tabindex="-1"></a>      <span class="st">"237"</span><span class="ot">=</span> <span class="st">"7:55 p.m. to 7:59 p.m."</span>,</span>
<span id="cb20-313"><a href="#cb20-313" aria-hidden="true" tabindex="-1"></a>      <span class="st">"238"</span><span class="ot">=</span> <span class="st">"8:00 p.m. to 8:04 p.m."</span>,</span>
<span id="cb20-314"><a href="#cb20-314" aria-hidden="true" tabindex="-1"></a>      <span class="st">"240"</span><span class="ot">=</span> <span class="st">"8:10 p.m. to 8:14 p.m."</span>,</span>
<span id="cb20-315"><a href="#cb20-315" aria-hidden="true" tabindex="-1"></a>      <span class="st">"242"</span><span class="ot">=</span> <span class="st">"8:20 p.m. to 8:24 p.m."</span>,</span>
<span id="cb20-316"><a href="#cb20-316" aria-hidden="true" tabindex="-1"></a>      <span class="st">"245"</span><span class="ot">=</span> <span class="st">"8:35 p.m. to 8:39 p.m."</span>,</span>
<span id="cb20-317"><a href="#cb20-317" aria-hidden="true" tabindex="-1"></a>      <span class="st">"250"</span><span class="ot">=</span> <span class="st">"9:00 p.m. to 9:04 p.m."</span>,</span>
<span id="cb20-318"><a href="#cb20-318" aria-hidden="true" tabindex="-1"></a>      <span class="st">"275"</span><span class="ot">=</span> <span class="st">"11:05 p.m. to 11:09 p.m."</span>,</span>
<span id="cb20-319"><a href="#cb20-319" aria-hidden="true" tabindex="-1"></a>      <span class="st">"283"</span><span class="ot">=</span> <span class="st">"11:45 p.m. to 11:49 p.m."</span>,</span>
<span id="cb20-320"><a href="#cb20-320" aria-hidden="true" tabindex="-1"></a>      <span class="st">"285"</span><span class="ot">=</span> <span class="st">"11:55 p.m. to 11:59 p.m."</span>,</span>
<span id="cb20-321"><a href="#cb20-321" aria-hidden="true" tabindex="-1"></a>      <span class="st">"012"</span><span class="ot">=</span> <span class="st">"1:05 a.m. to 1:09 a.m."</span>,</span>
<span id="cb20-322"><a href="#cb20-322" aria-hidden="true" tabindex="-1"></a>      <span class="st">"024"</span><span class="ot">=</span> <span class="st">"2:10 a.m. to 2:14 a.m."</span>,</span>
<span id="cb20-323"><a href="#cb20-323" aria-hidden="true" tabindex="-1"></a>      <span class="st">"026"</span><span class="ot">=</span> <span class="st">"2:20 a.m. to 2:24 a.m."</span>,</span>
<span id="cb20-324"><a href="#cb20-324" aria-hidden="true" tabindex="-1"></a>      <span class="st">"027"</span><span class="ot">=</span> <span class="st">"2:25 a.m. to 2:29 a.m."</span>,</span>
<span id="cb20-325"><a href="#cb20-325" aria-hidden="true" tabindex="-1"></a>      <span class="st">"030"</span><span class="ot">=</span> <span class="st">"2:40 a.m. to 2:44 a.m."</span>,</span>
<span id="cb20-326"><a href="#cb20-326" aria-hidden="true" tabindex="-1"></a>      <span class="st">"032"</span><span class="ot">=</span> <span class="st">"2:50 a.m. to 2:54 a.m."</span>,</span>
<span id="cb20-327"><a href="#cb20-327" aria-hidden="true" tabindex="-1"></a>      <span class="st">"040"</span><span class="ot">=</span> <span class="st">"3:30 a.m. to 3:34 a.m."</span>,</span>
<span id="cb20-328"><a href="#cb20-328" aria-hidden="true" tabindex="-1"></a>      <span class="st">"045"</span><span class="ot">=</span> <span class="st">"3:55 a.m. to 3:59 a.m."</span>,</span>
<span id="cb20-329"><a href="#cb20-329" aria-hidden="true" tabindex="-1"></a>      <span class="st">"047"</span><span class="ot">=</span> <span class="st">"4:05 a.m. to 4:09 a.m."</span>,</span>
<span id="cb20-330"><a href="#cb20-330" aria-hidden="true" tabindex="-1"></a>      <span class="st">"063"</span><span class="ot">=</span> <span class="st">"5:25 a.m. to 5:29 a.m."</span>,</span>
<span id="cb20-331"><a href="#cb20-331" aria-hidden="true" tabindex="-1"></a>      <span class="st">"066"</span><span class="ot">=</span> <span class="st">"5:40 a.m. to 5:44 a.m."</span>,</span>
<span id="cb20-332"><a href="#cb20-332" aria-hidden="true" tabindex="-1"></a>      <span class="st">"086"</span><span class="ot">=</span> <span class="st">"7:20 a.m. to 7:24 a.m."</span>,</span>
<span id="cb20-333"><a href="#cb20-333" aria-hidden="true" tabindex="-1"></a>      <span class="st">"096"</span><span class="ot">=</span> <span class="st">"8:10 a.m. to 8:14 a.m."</span>,</span>
<span id="cb20-334"><a href="#cb20-334" aria-hidden="true" tabindex="-1"></a>      <span class="st">"099"</span><span class="ot">=</span> <span class="st">"8:25 a.m. to 8:29 a.m."</span>,</span>
<span id="cb20-335"><a href="#cb20-335" aria-hidden="true" tabindex="-1"></a>      <span class="st">"102"</span><span class="ot">=</span> <span class="st">"8:40 a.m. to 8:44 a.m."</span>,</span>
<span id="cb20-336"><a href="#cb20-336" aria-hidden="true" tabindex="-1"></a>      <span class="st">"109"</span><span class="ot">=</span> <span class="st">"9:15 a.m. to 9:19 a.m."</span>,</span>
<span id="cb20-337"><a href="#cb20-337" aria-hidden="true" tabindex="-1"></a>      <span class="st">"110"</span><span class="ot">=</span> <span class="st">"9:20 a.m. to 9:24 a.m."</span>,</span>
<span id="cb20-338"><a href="#cb20-338" aria-hidden="true" tabindex="-1"></a>      <span class="st">"112"</span><span class="ot">=</span> <span class="st">"9:30 a.m. to 9:34 a.m."</span>,</span>
<span id="cb20-339"><a href="#cb20-339" aria-hidden="true" tabindex="-1"></a>      <span class="st">"113"</span><span class="ot">=</span> <span class="st">"9:35 a.m. to 9:39 a.m."</span>,</span>
<span id="cb20-340"><a href="#cb20-340" aria-hidden="true" tabindex="-1"></a>      <span class="st">"115"</span><span class="ot">=</span> <span class="st">"9:45 a.m. to 9:49 a.m."</span>,</span>
<span id="cb20-341"><a href="#cb20-341" aria-hidden="true" tabindex="-1"></a>      <span class="st">"120"</span><span class="ot">=</span> <span class="st">"10:10 a.m. to 10:14 a.m."</span>,</span>
<span id="cb20-342"><a href="#cb20-342" aria-hidden="true" tabindex="-1"></a>      <span class="st">"127"</span><span class="ot">=</span> <span class="st">"10:45 a.m. to 10:49 a.m."</span>,</span>
<span id="cb20-343"><a href="#cb20-343" aria-hidden="true" tabindex="-1"></a>      <span class="st">"130"</span><span class="ot">=</span> <span class="st">"11:00 a.m. to 11:04 a.m."</span>,</span>
<span id="cb20-344"><a href="#cb20-344" aria-hidden="true" tabindex="-1"></a>      <span class="st">"131"</span><span class="ot">=</span> <span class="st">"11:05 a.m. to 11:09 a.m."</span>,</span>
<span id="cb20-345"><a href="#cb20-345" aria-hidden="true" tabindex="-1"></a>      <span class="st">"145"</span><span class="ot">=</span> <span class="st">"12:15 p.m. to 12:19 p.m."</span>,</span>
<span id="cb20-346"><a href="#cb20-346" aria-hidden="true" tabindex="-1"></a>      <span class="st">"159"</span><span class="ot">=</span> <span class="st">"1:25 p.m. to 1:29 p.m."</span>,</span>
<span id="cb20-347"><a href="#cb20-347" aria-hidden="true" tabindex="-1"></a>      <span class="st">"168"</span><span class="ot">=</span> <span class="st">"2:10 p.m. to 2:14 p.m."</span>,</span>
<span id="cb20-348"><a href="#cb20-348" aria-hidden="true" tabindex="-1"></a>      <span class="st">"176"</span><span class="ot">=</span> <span class="st">"2:50 p.m. to 2:54 p.m."</span>,</span>
<span id="cb20-349"><a href="#cb20-349" aria-hidden="true" tabindex="-1"></a>      <span class="st">"188"</span><span class="ot">=</span> <span class="st">"3:50 p.m. to 3:54 p.m."</span>,</span>
<span id="cb20-350"><a href="#cb20-350" aria-hidden="true" tabindex="-1"></a>      <span class="st">"195"</span><span class="ot">=</span> <span class="st">"4:25 p.m. to 4:29 p.m."</span>,</span>
<span id="cb20-351"><a href="#cb20-351" aria-hidden="true" tabindex="-1"></a>      <span class="st">"213"</span><span class="ot">=</span> <span class="st">"5:55 p.m. to 5:59 p.m."</span>,</span>
<span id="cb20-352"><a href="#cb20-352" aria-hidden="true" tabindex="-1"></a>      <span class="st">"229"</span><span class="ot">=</span> <span class="st">"7:15 p.m. to 7:19 p.m."</span>,</span>
<span id="cb20-353"><a href="#cb20-353" aria-hidden="true" tabindex="-1"></a>      <span class="st">"231"</span><span class="ot">=</span> <span class="st">"7:25 p.m. to 7:29 p.m."</span>,</span>
<span id="cb20-354"><a href="#cb20-354" aria-hidden="true" tabindex="-1"></a>      <span class="st">"0"</span><span class="ot">=</span> <span class="st">"NA"</span></span>
<span id="cb20-355"><a href="#cb20-355" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-356"><a href="#cb20-356" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb20-357"><a href="#cb20-357" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Creating list of all possible values of JWDP</span></span>
<span id="cb20-358"><a href="#cb20-358" aria-hidden="true" tabindex="-1"></a>    times_JWDP <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb20-359"><a href="#cb20-359" aria-hidden="true" tabindex="-1"></a>     <span class="st">"014"</span><span class="ot">=</span> <span class="st">"4:10 a.m. to 4:19 a.m."</span>,</span>
<span id="cb20-360"><a href="#cb20-360" aria-hidden="true" tabindex="-1"></a>      <span class="st">"015"</span><span class="ot">=</span> <span class="st">"4:20 a.m. to 4:29 a.m."</span>,</span>
<span id="cb20-361"><a href="#cb20-361" aria-hidden="true" tabindex="-1"></a>      <span class="st">"017"</span><span class="ot">=</span> <span class="st">"4:40 a.m. to 4:49 a.m."</span>,</span>
<span id="cb20-362"><a href="#cb20-362" aria-hidden="true" tabindex="-1"></a>      <span class="st">"022"</span><span class="ot">=</span> <span class="st">"5:15 a.m. to 5:19 a.m."</span>,</span>
<span id="cb20-363"><a href="#cb20-363" aria-hidden="true" tabindex="-1"></a>      <span class="st">"035"</span><span class="ot">=</span> <span class="st">"6:20 a.m. to 6:24 a.m."</span>,</span>
<span id="cb20-364"><a href="#cb20-364" aria-hidden="true" tabindex="-1"></a>      <span class="st">"046"</span><span class="ot">=</span> <span class="st">"7:15 a.m. to 7:19 a.m."</span>,</span>
<span id="cb20-365"><a href="#cb20-365" aria-hidden="true" tabindex="-1"></a>      <span class="st">"065"</span><span class="ot">=</span> <span class="st">"8:50 a.m. to 8:54 a.m."</span>,</span>
<span id="cb20-366"><a href="#cb20-366" aria-hidden="true" tabindex="-1"></a>      <span class="st">"068"</span><span class="ot">=</span> <span class="st">"9:05 a.m. to 9:09 a.m."</span>,</span>
<span id="cb20-367"><a href="#cb20-367" aria-hidden="true" tabindex="-1"></a>      <span class="st">"076"</span><span class="ot">=</span> <span class="st">"9:45 a.m. to 9:49 a.m."</span>,</span>
<span id="cb20-368"><a href="#cb20-368" aria-hidden="true" tabindex="-1"></a>      <span class="st">"079"</span><span class="ot">=</span> <span class="st">"10:00 a.m. to 10:09 a.m."</span>,</span>
<span id="cb20-369"><a href="#cb20-369" aria-hidden="true" tabindex="-1"></a>      <span class="st">"083"</span><span class="ot">=</span> <span class="st">"10:40 a.m. to 10:49 a.m."</span>,</span>
<span id="cb20-370"><a href="#cb20-370" aria-hidden="true" tabindex="-1"></a>      <span class="st">"085"</span><span class="ot">=</span> <span class="st">"11:00 a.m. to 11:09 a.m."</span>,</span>
<span id="cb20-371"><a href="#cb20-371" aria-hidden="true" tabindex="-1"></a>      <span class="st">"086"</span><span class="ot">=</span> <span class="st">"11:10 a.m. to 11:19 a.m."</span>,</span>
<span id="cb20-372"><a href="#cb20-372" aria-hidden="true" tabindex="-1"></a>      <span class="st">"103"</span><span class="ot">=</span> <span class="st">"2:00 p.m. to 2:09 p.m."</span>,</span>
<span id="cb20-373"><a href="#cb20-373" aria-hidden="true" tabindex="-1"></a>      <span class="st">"105"</span><span class="ot">=</span> <span class="st">"2:20 p.m. to 2:29 p.m."</span>,</span>
<span id="cb20-374"><a href="#cb20-374" aria-hidden="true" tabindex="-1"></a>      <span class="st">"118"</span><span class="ot">=</span> <span class="st">"4:30 p.m. to 4:39 p.m."</span>,</span>
<span id="cb20-375"><a href="#cb20-375" aria-hidden="true" tabindex="-1"></a>      <span class="st">"127"</span><span class="ot">=</span> <span class="st">"6:00 p.m. to 6:09 p.m."</span>,</span>
<span id="cb20-376"><a href="#cb20-376" aria-hidden="true" tabindex="-1"></a>      <span class="st">"130"</span><span class="ot">=</span> <span class="st">"6:30 p.m. to 6:39 p.m."</span>,</span>
<span id="cb20-377"><a href="#cb20-377" aria-hidden="true" tabindex="-1"></a>      <span class="st">"131"</span><span class="ot">=</span> <span class="st">"6:40 p.m. to 6:49 p.m."</span>,</span>
<span id="cb20-378"><a href="#cb20-378" aria-hidden="true" tabindex="-1"></a>      <span class="st">"139"</span><span class="ot">=</span> <span class="st">"9:20 p.m. to 9:29 p.m."</span>,</span>
<span id="cb20-379"><a href="#cb20-379" aria-hidden="true" tabindex="-1"></a>      <span class="st">"141"</span><span class="ot">=</span> <span class="st">"9:40 p.m. to 9:49 p.m."</span>,</span>
<span id="cb20-380"><a href="#cb20-380" aria-hidden="true" tabindex="-1"></a>      <span class="st">"149"</span><span class="ot">=</span> <span class="st">"11:00 p.m. to 11:29 p.m."</span>,</span>
<span id="cb20-381"><a href="#cb20-381" aria-hidden="true" tabindex="-1"></a>      <span class="st">"057"</span><span class="ot">=</span> <span class="st">"8:10 a.m. to 8:14 a.m."</span>,</span>
<span id="cb20-382"><a href="#cb20-382" aria-hidden="true" tabindex="-1"></a>      <span class="st">"059"</span><span class="ot">=</span> <span class="st">"8:20 a.m. to 8:24 a.m."</span>,</span>
<span id="cb20-383"><a href="#cb20-383" aria-hidden="true" tabindex="-1"></a>      <span class="st">"063"</span><span class="ot">=</span> <span class="st">"8:40 a.m. to 8:44 a.m."</span>,</span>
<span id="cb20-384"><a href="#cb20-384" aria-hidden="true" tabindex="-1"></a>      <span class="st">"066"</span><span class="ot">=</span> <span class="st">"8:55 a.m. to 8:59 a.m."</span>,</span>
<span id="cb20-385"><a href="#cb20-385" aria-hidden="true" tabindex="-1"></a>      <span class="st">"073"</span><span class="ot">=</span> <span class="st">"9:30 a.m. to 9:34 a.m."</span>,</span>
<span id="cb20-386"><a href="#cb20-386" aria-hidden="true" tabindex="-1"></a>      <span class="st">"078"</span><span class="ot">=</span> <span class="st">"9:55 a.m. to 9:59 a.m."</span>,</span>
<span id="cb20-387"><a href="#cb20-387" aria-hidden="true" tabindex="-1"></a>      <span class="st">"100"</span><span class="ot">=</span> <span class="st">"1:30 p.m. to 1:39 p.m."</span>,</span>
<span id="cb20-388"><a href="#cb20-388" aria-hidden="true" tabindex="-1"></a>      <span class="st">"101"</span><span class="ot">=</span> <span class="st">"1:40 p.m. to 1:49 p.m."</span>,</span>
<span id="cb20-389"><a href="#cb20-389" aria-hidden="true" tabindex="-1"></a>      <span class="st">"104"</span><span class="ot">=</span> <span class="st">"2:10 p.m. to 2:19 p.m."</span>,</span>
<span id="cb20-390"><a href="#cb20-390" aria-hidden="true" tabindex="-1"></a>      <span class="st">"107"</span><span class="ot">=</span> <span class="st">"2:40 p.m. to 2:49 p.m."</span>,</span>
<span id="cb20-391"><a href="#cb20-391" aria-hidden="true" tabindex="-1"></a>      <span class="st">"111"</span><span class="ot">=</span> <span class="st">"3:20 p.m. to 3:29 p.m."</span>,</span>
<span id="cb20-392"><a href="#cb20-392" aria-hidden="true" tabindex="-1"></a>      <span class="st">"116"</span><span class="ot">=</span> <span class="st">"4:10 p.m. to 4:19 p.m."</span>,</span>
<span id="cb20-393"><a href="#cb20-393" aria-hidden="true" tabindex="-1"></a>      <span class="st">"128"</span><span class="ot">=</span> <span class="st">"6:10 p.m. to 6:19 p.m."</span>,</span>
<span id="cb20-394"><a href="#cb20-394" aria-hidden="true" tabindex="-1"></a>      <span class="st">"150"</span><span class="ot">=</span> <span class="st">"11:30 p.m. to 11:59 p.m."</span>,</span>
<span id="cb20-395"><a href="#cb20-395" aria-hidden="true" tabindex="-1"></a>      <span class="st">"010"</span><span class="ot">=</span> <span class="st">"3:30 a.m. to 3:39 a.m."</span>,</span>
<span id="cb20-396"><a href="#cb20-396" aria-hidden="true" tabindex="-1"></a>      <span class="st">"011"</span><span class="ot">=</span> <span class="st">"3:40 a.m. to 3:49 a.m."</span>,</span>
<span id="cb20-397"><a href="#cb20-397" aria-hidden="true" tabindex="-1"></a>      <span class="st">"019"</span><span class="ot">=</span> <span class="st">"5:00 a.m. to 5:04 a.m."</span>,</span>
<span id="cb20-398"><a href="#cb20-398" aria-hidden="true" tabindex="-1"></a>      <span class="st">"028"</span><span class="ot">=</span> <span class="st">"5:45 a.m. to 5:49 a.m."</span>,</span>
<span id="cb20-399"><a href="#cb20-399" aria-hidden="true" tabindex="-1"></a>      <span class="st">"044"</span><span class="ot">=</span> <span class="st">"7:05 a.m. to 7:09 a.m."</span>,</span>
<span id="cb20-400"><a href="#cb20-400" aria-hidden="true" tabindex="-1"></a>      <span class="st">"045"</span><span class="ot">=</span> <span class="st">"7:10 a.m. to 7:14 a.m."</span>,</span>
<span id="cb20-401"><a href="#cb20-401" aria-hidden="true" tabindex="-1"></a>      <span class="st">"047"</span><span class="ot">=</span> <span class="st">"7:20 a.m. to 7:24 a.m."</span>,</span>
<span id="cb20-402"><a href="#cb20-402" aria-hidden="true" tabindex="-1"></a>      <span class="st">"049"</span><span class="ot">=</span> <span class="st">"7:30 a.m. to 7:34 a.m."</span>,</span>
<span id="cb20-403"><a href="#cb20-403" aria-hidden="true" tabindex="-1"></a>      <span class="st">"053"</span><span class="ot">=</span> <span class="st">"7:50 a.m. to 7:54 a.m."</span>,</span>
<span id="cb20-404"><a href="#cb20-404" aria-hidden="true" tabindex="-1"></a>      <span class="st">"055"</span><span class="ot">=</span> <span class="st">"8:00 a.m. to 8:04 a.m."</span>,</span>
<span id="cb20-405"><a href="#cb20-405" aria-hidden="true" tabindex="-1"></a>      <span class="st">"056"</span><span class="ot">=</span> <span class="st">"8:05 a.m. to 8:09 a.m."</span>,</span>
<span id="cb20-406"><a href="#cb20-406" aria-hidden="true" tabindex="-1"></a>      <span class="st">"084"</span><span class="ot">=</span> <span class="st">"10:50 a.m. to 10:59 a.m."</span>,</span>
<span id="cb20-407"><a href="#cb20-407" aria-hidden="true" tabindex="-1"></a>      <span class="st">"090"</span><span class="ot">=</span> <span class="st">"11:50 a.m. to 11:59 a.m."</span>,</span>
<span id="cb20-408"><a href="#cb20-408" aria-hidden="true" tabindex="-1"></a>      <span class="st">"092"</span><span class="ot">=</span> <span class="st">"12:10 p.m. to 12:19 p.m."</span>,</span>
<span id="cb20-409"><a href="#cb20-409" aria-hidden="true" tabindex="-1"></a>      <span class="st">"110"</span><span class="ot">=</span> <span class="st">"3:10 p.m. to 3:19 p.m."</span>,</span>
<span id="cb20-410"><a href="#cb20-410" aria-hidden="true" tabindex="-1"></a>      <span class="st">"112"</span><span class="ot">=</span> <span class="st">"3:30 p.m. to 3:39 p.m."</span>,</span>
<span id="cb20-411"><a href="#cb20-411" aria-hidden="true" tabindex="-1"></a>      <span class="st">"120"</span><span class="ot">=</span> <span class="st">"4:50 p.m. to 4:59 p.m."</span>,</span>
<span id="cb20-412"><a href="#cb20-412" aria-hidden="true" tabindex="-1"></a>      <span class="st">"132"</span><span class="ot">=</span> <span class="st">"6:50 p.m. to 6:59 p.m."</span>,</span>
<span id="cb20-413"><a href="#cb20-413" aria-hidden="true" tabindex="-1"></a>      <span class="st">"133"</span><span class="ot">=</span> <span class="st">"7:00 p.m. to 7:29 p.m."</span>,</span>
<span id="cb20-414"><a href="#cb20-414" aria-hidden="true" tabindex="-1"></a>      <span class="st">"134"</span><span class="ot">=</span> <span class="st">"7:30 p.m. to 7:59 p.m."</span>,</span>
<span id="cb20-415"><a href="#cb20-415" aria-hidden="true" tabindex="-1"></a>      <span class="st">"009"</span><span class="ot">=</span> <span class="st">"3:20 a.m. to 3:29 a.m."</span>,</span>
<span id="cb20-416"><a href="#cb20-416" aria-hidden="true" tabindex="-1"></a>      <span class="st">"023"</span><span class="ot">=</span> <span class="st">"5:20 a.m. to 5:24 a.m."</span>,</span>
<span id="cb20-417"><a href="#cb20-417" aria-hidden="true" tabindex="-1"></a>      <span class="st">"031"</span><span class="ot">=</span> <span class="st">"6:00 a.m. to 6:04 a.m."</span>,</span>
<span id="cb20-418"><a href="#cb20-418" aria-hidden="true" tabindex="-1"></a>      <span class="st">"038"</span><span class="ot">=</span> <span class="st">"6:35 a.m. to 6:39 a.m."</span>,</span>
<span id="cb20-419"><a href="#cb20-419" aria-hidden="true" tabindex="-1"></a>      <span class="st">"040"</span><span class="ot">=</span> <span class="st">"6:45 a.m. to 6:49 a.m."</span>,</span>
<span id="cb20-420"><a href="#cb20-420" aria-hidden="true" tabindex="-1"></a>      <span class="st">"050"</span><span class="ot">=</span> <span class="st">"7:35 a.m. to 7:39 a.m."</span>,</span>
<span id="cb20-421"><a href="#cb20-421" aria-hidden="true" tabindex="-1"></a>      <span class="st">"060"</span><span class="ot">=</span> <span class="st">"8:25 a.m. to 8:29 a.m."</span>,</span>
<span id="cb20-422"><a href="#cb20-422" aria-hidden="true" tabindex="-1"></a>      <span class="st">"062"</span><span class="ot">=</span> <span class="st">"8:35 a.m. to 8:39 a.m."</span>,</span>
<span id="cb20-423"><a href="#cb20-423" aria-hidden="true" tabindex="-1"></a>      <span class="st">"064"</span><span class="ot">=</span> <span class="st">"8:45 a.m. to 8:49 a.m."</span>,</span>
<span id="cb20-424"><a href="#cb20-424" aria-hidden="true" tabindex="-1"></a>      <span class="st">"067"</span><span class="ot">=</span> <span class="st">"9:00 a.m. to 9:04 a.m."</span>,</span>
<span id="cb20-425"><a href="#cb20-425" aria-hidden="true" tabindex="-1"></a>      <span class="st">"069"</span><span class="ot">=</span> <span class="st">"9:10 a.m. to 9:14 a.m."</span>,</span>
<span id="cb20-426"><a href="#cb20-426" aria-hidden="true" tabindex="-1"></a>      <span class="st">"082"</span><span class="ot">=</span> <span class="st">"10:30 a.m. to 10:39 a.m."</span>,</span>
<span id="cb20-427"><a href="#cb20-427" aria-hidden="true" tabindex="-1"></a>      <span class="st">"095"</span><span class="ot">=</span> <span class="st">"12:40 p.m. to 12:49 p.m."</span>,</span>
<span id="cb20-428"><a href="#cb20-428" aria-hidden="true" tabindex="-1"></a>      <span class="st">"096"</span><span class="ot">=</span> <span class="st">"12:50 p.m. to 12:59 p.m."</span>,</span>
<span id="cb20-429"><a href="#cb20-429" aria-hidden="true" tabindex="-1"></a>      <span class="st">"097"</span><span class="ot">=</span> <span class="st">"1:00 p.m. to 1:09 p.m."</span>,</span>
<span id="cb20-430"><a href="#cb20-430" aria-hidden="true" tabindex="-1"></a>      <span class="st">"119"</span><span class="ot">=</span> <span class="st">"4:40 p.m. to 4:49 p.m."</span>,</span>
<span id="cb20-431"><a href="#cb20-431" aria-hidden="true" tabindex="-1"></a>      <span class="st">"121"</span><span class="ot">=</span> <span class="st">"5:00 p.m. to 5:09 p.m."</span>,</span>
<span id="cb20-432"><a href="#cb20-432" aria-hidden="true" tabindex="-1"></a>      <span class="st">"135"</span><span class="ot">=</span> <span class="st">"8:00 p.m. to 8:29 p.m."</span>,</span>
<span id="cb20-433"><a href="#cb20-433" aria-hidden="true" tabindex="-1"></a>      <span class="st">"003"</span><span class="ot">=</span> <span class="st">"1:00 a.m. to 1:29 a.m."</span>,</span>
<span id="cb20-434"><a href="#cb20-434" aria-hidden="true" tabindex="-1"></a>      <span class="st">"033"</span><span class="ot">=</span> <span class="st">"6:10 a.m. to 6:14 a.m."</span>,</span>
<span id="cb20-435"><a href="#cb20-435" aria-hidden="true" tabindex="-1"></a>      <span class="st">"036"</span><span class="ot">=</span> <span class="st">"6:25 a.m. to 6:29 a.m."</span>,</span>
<span id="cb20-436"><a href="#cb20-436" aria-hidden="true" tabindex="-1"></a>      <span class="st">"041"</span><span class="ot">=</span> <span class="st">"6:50 a.m. to 6:54 a.m."</span>,</span>
<span id="cb20-437"><a href="#cb20-437" aria-hidden="true" tabindex="-1"></a>      <span class="st">"061"</span><span class="ot">=</span> <span class="st">"8:30 a.m. to 8:34 a.m."</span>,</span>
<span id="cb20-438"><a href="#cb20-438" aria-hidden="true" tabindex="-1"></a>      <span class="st">"081"</span><span class="ot">=</span> <span class="st">"10:20 a.m. to 10:29 a.m."</span>,</span>
<span id="cb20-439"><a href="#cb20-439" aria-hidden="true" tabindex="-1"></a>      <span class="st">"093"</span><span class="ot">=</span> <span class="st">"12:20 p.m. to 12:29 p.m."</span>,</span>
<span id="cb20-440"><a href="#cb20-440" aria-hidden="true" tabindex="-1"></a>      <span class="st">"098"</span><span class="ot">=</span> <span class="st">"1:10 p.m. to 1:19 p.m."</span>,</span>
<span id="cb20-441"><a href="#cb20-441" aria-hidden="true" tabindex="-1"></a>      <span class="st">"102"</span><span class="ot">=</span> <span class="st">"1:50 p.m. to 1:59 p.m."</span>,</span>
<span id="cb20-442"><a href="#cb20-442" aria-hidden="true" tabindex="-1"></a>      <span class="st">"109"</span><span class="ot">=</span> <span class="st">"3:00 p.m. to 3:09 p.m."</span>,</span>
<span id="cb20-443"><a href="#cb20-443" aria-hidden="true" tabindex="-1"></a>      <span class="st">"115"</span><span class="ot">=</span> <span class="st">"4:00 p.m. to 4:09 p.m."</span>,</span>
<span id="cb20-444"><a href="#cb20-444" aria-hidden="true" tabindex="-1"></a>      <span class="st">"126"</span><span class="ot">=</span> <span class="st">"5:50 p.m. to 5:59 p.m."</span>,</span>
<span id="cb20-445"><a href="#cb20-445" aria-hidden="true" tabindex="-1"></a>      <span class="st">"143"</span><span class="ot">=</span> <span class="st">"10:00 p.m. to 10:09 p.m."</span>,</span>
<span id="cb20-446"><a href="#cb20-446" aria-hidden="true" tabindex="-1"></a>      <span class="st">"145"</span><span class="ot">=</span> <span class="st">"10:20 p.m. to 10:29 p.m."</span>,</span>
<span id="cb20-447"><a href="#cb20-447" aria-hidden="true" tabindex="-1"></a>      <span class="st">"001"</span><span class="ot">=</span> <span class="st">"12:00 a.m. to 12:29 a.m."</span>,</span>
<span id="cb20-448"><a href="#cb20-448" aria-hidden="true" tabindex="-1"></a>      <span class="st">"006"</span><span class="ot">=</span> <span class="st">"2:30 a.m. to 2:59 a.m."</span>,</span>
<span id="cb20-449"><a href="#cb20-449" aria-hidden="true" tabindex="-1"></a>      <span class="st">"012"</span><span class="ot">=</span> <span class="st">"3:50 a.m. to 3:59 a.m."</span>,</span>
<span id="cb20-450"><a href="#cb20-450" aria-hidden="true" tabindex="-1"></a>      <span class="st">"013"</span><span class="ot">=</span> <span class="st">"4:00 a.m. to 4:09 a.m."</span>,</span>
<span id="cb20-451"><a href="#cb20-451" aria-hidden="true" tabindex="-1"></a>      <span class="st">"016"</span><span class="ot">=</span> <span class="st">"4:30 a.m. to 4:39 a.m."</span>,</span>
<span id="cb20-452"><a href="#cb20-452" aria-hidden="true" tabindex="-1"></a>      <span class="st">"025"</span><span class="ot">=</span> <span class="st">"5:30 a.m. to 5:34 a.m."</span>,</span>
<span id="cb20-453"><a href="#cb20-453" aria-hidden="true" tabindex="-1"></a>      <span class="st">"026"</span><span class="ot">=</span> <span class="st">"5:35 a.m. to 5:39 a.m."</span>,</span>
<span id="cb20-454"><a href="#cb20-454" aria-hidden="true" tabindex="-1"></a>      <span class="st">"030"</span><span class="ot">=</span> <span class="st">"5:55 a.m. to 5:59 a.m."</span>,</span>
<span id="cb20-455"><a href="#cb20-455" aria-hidden="true" tabindex="-1"></a>      <span class="st">"077"</span><span class="ot">=</span> <span class="st">"9:50 a.m. to 9:54 a.m."</span>,</span>
<span id="cb20-456"><a href="#cb20-456" aria-hidden="true" tabindex="-1"></a>      <span class="st">"087"</span><span class="ot">=</span> <span class="st">"11:20 a.m. to 11:29 a.m."</span>,</span>
<span id="cb20-457"><a href="#cb20-457" aria-hidden="true" tabindex="-1"></a>      <span class="st">"088"</span><span class="ot">=</span> <span class="st">"11:30 a.m. to 11:39 a.m."</span>,</span>
<span id="cb20-458"><a href="#cb20-458" aria-hidden="true" tabindex="-1"></a>      <span class="st">"094"</span><span class="ot">=</span> <span class="st">"12:30 p.m. to 12:39 p.m."</span>,</span>
<span id="cb20-459"><a href="#cb20-459" aria-hidden="true" tabindex="-1"></a>      <span class="st">"106"</span><span class="ot">=</span> <span class="st">"2:30 p.m. to 2:39 p.m."</span>,</span>
<span id="cb20-460"><a href="#cb20-460" aria-hidden="true" tabindex="-1"></a>      <span class="st">"108"</span><span class="ot">=</span> <span class="st">"2:50 p.m. to 2:59 p.m."</span>,</span>
<span id="cb20-461"><a href="#cb20-461" aria-hidden="true" tabindex="-1"></a>      <span class="st">"122"</span><span class="ot">=</span> <span class="st">"5:10 p.m. to 5:19 p.m."</span>,</span>
<span id="cb20-462"><a href="#cb20-462" aria-hidden="true" tabindex="-1"></a>      <span class="st">"123"</span><span class="ot">=</span> <span class="st">"5:20 p.m. to 5:29 p.m."</span>,</span>
<span id="cb20-463"><a href="#cb20-463" aria-hidden="true" tabindex="-1"></a>      <span class="st">"124"</span><span class="ot">=</span> <span class="st">"5:30 p.m. to 5:39 p.m."</span>,</span>
<span id="cb20-464"><a href="#cb20-464" aria-hidden="true" tabindex="-1"></a>      <span class="st">"144"</span><span class="ot">=</span> <span class="st">"10:10 p.m. to 10:19 p.m."</span>,</span>
<span id="cb20-465"><a href="#cb20-465" aria-hidden="true" tabindex="-1"></a>      <span class="st">"002"</span><span class="ot">=</span> <span class="st">"12:30 a.m. to 12:59 a.m."</span>,</span>
<span id="cb20-466"><a href="#cb20-466" aria-hidden="true" tabindex="-1"></a>      <span class="st">"004"</span><span class="ot">=</span> <span class="st">"1:30 a.m. to 1:59 a.m."</span>,</span>
<span id="cb20-467"><a href="#cb20-467" aria-hidden="true" tabindex="-1"></a>      <span class="st">"005"</span><span class="ot">=</span> <span class="st">"2:00 a.m. to 2:29 a.m."</span>,</span>
<span id="cb20-468"><a href="#cb20-468" aria-hidden="true" tabindex="-1"></a>      <span class="st">"007"</span><span class="ot">=</span> <span class="st">"3:00 a.m. to 3:09 a.m."</span>,</span>
<span id="cb20-469"><a href="#cb20-469" aria-hidden="true" tabindex="-1"></a>      <span class="st">"020"</span><span class="ot">=</span> <span class="st">"5:05 a.m. to 5:09 a.m."</span>,</span>
<span id="cb20-470"><a href="#cb20-470" aria-hidden="true" tabindex="-1"></a>      <span class="st">"021"</span><span class="ot">=</span> <span class="st">"5:10 a.m. to 5:14 a.m."</span>,</span>
<span id="cb20-471"><a href="#cb20-471" aria-hidden="true" tabindex="-1"></a>      <span class="st">"024"</span><span class="ot">=</span> <span class="st">"5:25 a.m. to 5:29 a.m."</span>,</span>
<span id="cb20-472"><a href="#cb20-472" aria-hidden="true" tabindex="-1"></a>      <span class="st">"027"</span><span class="ot">=</span> <span class="st">"5:40 a.m. to 5:44 a.m."</span>,</span>
<span id="cb20-473"><a href="#cb20-473" aria-hidden="true" tabindex="-1"></a>      <span class="st">"034"</span><span class="ot">=</span> <span class="st">"6:15 a.m. to 6:19 a.m."</span>,</span>
<span id="cb20-474"><a href="#cb20-474" aria-hidden="true" tabindex="-1"></a>      <span class="st">"039"</span><span class="ot">=</span> <span class="st">"6:40 a.m. to 6:44 a.m."</span>,</span>
<span id="cb20-475"><a href="#cb20-475" aria-hidden="true" tabindex="-1"></a>      <span class="st">"042"</span><span class="ot">=</span> <span class="st">"6:55 a.m. to 6:59 a.m."</span>,</span>
<span id="cb20-476"><a href="#cb20-476" aria-hidden="true" tabindex="-1"></a>      <span class="st">"043"</span><span class="ot">=</span> <span class="st">"7:00 a.m. to 7:04 a.m."</span>,</span>
<span id="cb20-477"><a href="#cb20-477" aria-hidden="true" tabindex="-1"></a>      <span class="st">"048"</span><span class="ot">=</span> <span class="st">"7:25 a.m. to 7:29 a.m."</span>,</span>
<span id="cb20-478"><a href="#cb20-478" aria-hidden="true" tabindex="-1"></a>      <span class="st">"051"</span><span class="ot">=</span> <span class="st">"7:40 a.m. to 7:44 a.m."</span>,</span>
<span id="cb20-479"><a href="#cb20-479" aria-hidden="true" tabindex="-1"></a>      <span class="st">"058"</span><span class="ot">=</span> <span class="st">"8:15 a.m. to 8:19 a.m."</span>,</span>
<span id="cb20-480"><a href="#cb20-480" aria-hidden="true" tabindex="-1"></a>      <span class="st">"072"</span><span class="ot">=</span> <span class="st">"9:25 a.m. to 9:29 a.m."</span>,</span>
<span id="cb20-481"><a href="#cb20-481" aria-hidden="true" tabindex="-1"></a>      <span class="st">"074"</span><span class="ot">=</span> <span class="st">"9:35 a.m. to 9:39 a.m."</span>,</span>
<span id="cb20-482"><a href="#cb20-482" aria-hidden="true" tabindex="-1"></a>      <span class="st">"075"</span><span class="ot">=</span> <span class="st">"9:40 a.m. to 9:44 a.m."</span>,</span>
<span id="cb20-483"><a href="#cb20-483" aria-hidden="true" tabindex="-1"></a>      <span class="st">"091"</span><span class="ot">=</span> <span class="st">"12:00 p.m. to 12:09 p.m."</span>,</span>
<span id="cb20-484"><a href="#cb20-484" aria-hidden="true" tabindex="-1"></a>      <span class="st">"113"</span><span class="ot">=</span> <span class="st">"3:40 p.m. to 3:49 p.m."</span>,</span>
<span id="cb20-485"><a href="#cb20-485" aria-hidden="true" tabindex="-1"></a>      <span class="st">"117"</span><span class="ot">=</span> <span class="st">"4:20 p.m. to 4:29 p.m."</span>,</span>
<span id="cb20-486"><a href="#cb20-486" aria-hidden="true" tabindex="-1"></a>      <span class="st">"125"</span><span class="ot">=</span> <span class="st">"5:40 p.m. to 5:49 p.m."</span>,</span>
<span id="cb20-487"><a href="#cb20-487" aria-hidden="true" tabindex="-1"></a>      <span class="st">"129"</span><span class="ot">=</span> <span class="st">"6:20 p.m. to 6:29 p.m."</span>,</span>
<span id="cb20-488"><a href="#cb20-488" aria-hidden="true" tabindex="-1"></a>      <span class="st">"136"</span><span class="ot">=</span> <span class="st">"8:30 p.m. to 8:59 p.m."</span>,</span>
<span id="cb20-489"><a href="#cb20-489" aria-hidden="true" tabindex="-1"></a>      <span class="st">"137"</span><span class="ot">=</span> <span class="st">"9:00 p.m. to 9:09 p.m."</span>,</span>
<span id="cb20-490"><a href="#cb20-490" aria-hidden="true" tabindex="-1"></a>      <span class="st">"140"</span><span class="ot">=</span> <span class="st">"9:30 p.m. to 9:39 p.m."</span>,</span>
<span id="cb20-491"><a href="#cb20-491" aria-hidden="true" tabindex="-1"></a>      <span class="st">"008"</span><span class="ot">=</span> <span class="st">"3:10 a.m. to 3:19 a.m."</span>,</span>
<span id="cb20-492"><a href="#cb20-492" aria-hidden="true" tabindex="-1"></a>      <span class="st">"018"</span><span class="ot">=</span> <span class="st">"4:50 a.m. to 4:59 a.m."</span>,</span>
<span id="cb20-493"><a href="#cb20-493" aria-hidden="true" tabindex="-1"></a>      <span class="st">"029"</span><span class="ot">=</span> <span class="st">"5:50 a.m. to 5:54 a.m."</span>,</span>
<span id="cb20-494"><a href="#cb20-494" aria-hidden="true" tabindex="-1"></a>      <span class="st">"032"</span><span class="ot">=</span> <span class="st">"6:05 a.m. to 6:09 a.m."</span>,</span>
<span id="cb20-495"><a href="#cb20-495" aria-hidden="true" tabindex="-1"></a>      <span class="st">"037"</span><span class="ot">=</span> <span class="st">"6:30 a.m. to 6:34 a.m."</span>,</span>
<span id="cb20-496"><a href="#cb20-496" aria-hidden="true" tabindex="-1"></a>      <span class="st">"052"</span><span class="ot">=</span> <span class="st">"7:45 a.m. to 7:49 a.m."</span>,</span>
<span id="cb20-497"><a href="#cb20-497" aria-hidden="true" tabindex="-1"></a>      <span class="st">"054"</span><span class="ot">=</span> <span class="st">"7:55 a.m. to 7:59 a.m."</span>,</span>
<span id="cb20-498"><a href="#cb20-498" aria-hidden="true" tabindex="-1"></a>      <span class="st">"070"</span><span class="ot">=</span> <span class="st">"9:15 a.m. to 9:19 a.m."</span>,</span>
<span id="cb20-499"><a href="#cb20-499" aria-hidden="true" tabindex="-1"></a>      <span class="st">"071"</span><span class="ot">=</span> <span class="st">"9:20 a.m. to 9:24 a.m."</span>,</span>
<span id="cb20-500"><a href="#cb20-500" aria-hidden="true" tabindex="-1"></a>      <span class="st">"080"</span><span class="ot">=</span> <span class="st">"10:10 a.m. to 10:19 a.m."</span>,</span>
<span id="cb20-501"><a href="#cb20-501" aria-hidden="true" tabindex="-1"></a>      <span class="st">"089"</span><span class="ot">=</span> <span class="st">"11:40 a.m. to 11:49 a.m."</span>,</span>
<span id="cb20-502"><a href="#cb20-502" aria-hidden="true" tabindex="-1"></a>      <span class="st">"099"</span><span class="ot">=</span> <span class="st">"1:20 p.m. to 1:29 p.m."</span>,</span>
<span id="cb20-503"><a href="#cb20-503" aria-hidden="true" tabindex="-1"></a>      <span class="st">"114"</span><span class="ot">=</span> <span class="st">"3:50 p.m. to 3:59 p.m."</span>,</span>
<span id="cb20-504"><a href="#cb20-504" aria-hidden="true" tabindex="-1"></a>      <span class="st">"138"</span><span class="ot">=</span> <span class="st">"9:10 p.m. to 9:19 p.m."</span>,</span>
<span id="cb20-505"><a href="#cb20-505" aria-hidden="true" tabindex="-1"></a>      <span class="st">"142"</span><span class="ot">=</span> <span class="st">"9:50 p.m. to 9:59 p.m."</span>,</span>
<span id="cb20-506"><a href="#cb20-506" aria-hidden="true" tabindex="-1"></a>      <span class="st">"146"</span><span class="ot">=</span> <span class="st">"10:30 p.m. to 10:39 p.m."</span>,</span>
<span id="cb20-507"><a href="#cb20-507" aria-hidden="true" tabindex="-1"></a>      <span class="st">"147"</span><span class="ot">=</span> <span class="st">"10:40 p.m. to 10:49 p.m."</span>,</span>
<span id="cb20-508"><a href="#cb20-508" aria-hidden="true" tabindex="-1"></a>      <span class="st">"148"</span><span class="ot">=</span> <span class="st">"10:50 p.m. to 10:59 p.m."</span>,</span>
<span id="cb20-509"><a href="#cb20-509" aria-hidden="true" tabindex="-1"></a>       <span class="st">"0"</span><span class="ot">=</span> <span class="st">"NA"</span></span>
<span id="cb20-510"><a href="#cb20-510" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-511"><a href="#cb20-511" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-512"><a href="#cb20-512" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-513"><a href="#cb20-513" aria-hidden="true" tabindex="-1"></a>  <span class="co"># note sapply is discussed in week 8 (future material)</span></span>
<span id="cb20-514"><a href="#cb20-514" aria-hidden="true" tabindex="-1"></a>  JWAP_label <span class="ot">&lt;-</span> <span class="fu">sapply</span>(times_JWAP, mid_time)</span>
<span id="cb20-515"><a href="#cb20-515" aria-hidden="true" tabindex="-1"></a>  JWDP_label <span class="ot">&lt;-</span> <span class="fu">sapply</span>(times_JWDP, mid_time)</span>
<span id="cb20-516"><a href="#cb20-516" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-517"><a href="#cb20-517" aria-hidden="true" tabindex="-1"></a>  <span class="co"># JWAP</span></span>
<span id="cb20-518"><a href="#cb20-518" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"JWAP"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-519"><a href="#cb20-519" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-520"><a href="#cb20-520" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">JWAP =</span> JWAP_label[JWAP])</span>
<span id="cb20-521"><a href="#cb20-521" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-522"><a href="#cb20-522" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-523"><a href="#cb20-523" aria-hidden="true" tabindex="-1"></a>  <span class="co"># JWDP</span></span>
<span id="cb20-524"><a href="#cb20-524" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"JWDP"</span> <span class="sc">%in%</span> <span class="fu">colnames</span>(Census_info)) {</span>
<span id="cb20-525"><a href="#cb20-525" aria-hidden="true" tabindex="-1"></a>    Census_info <span class="ot">&lt;-</span> Census_info <span class="sc">|&gt;</span></span>
<span id="cb20-526"><a href="#cb20-526" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">JWDP =</span> JWDP_label[JWDP]) </span>
<span id="cb20-527"><a href="#cb20-527" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-528"><a href="#cb20-528" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-529"><a href="#cb20-529" aria-hidden="true" tabindex="-1"></a>  <span class="co"># From Data Manipulation step in instructions</span></span>
<span id="cb20-530"><a href="#cb20-530" aria-hidden="true" tabindex="-1"></a>  <span class="fu">class</span>(Census_info) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"census"</span>,<span class="fu">class</span>(Census_info))</span>
<span id="cb20-531"><a href="#cb20-531" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-532"><a href="#cb20-532" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(Census_info)</span>
<span id="cb20-533"><a href="#cb20-533" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb20-534"><a href="#cb20-534" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that its built lets <strong>test</strong> calling it with the URL we used above.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">URL_funct</span>(test_URL)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 189 × 4
   SEX    PWGTP MAR   SCHL            
   &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;fct&gt;           
 1 Male      38 1     Doctorate degree
 2 Female   120 1     Doctorate degree
 3 Male      43 1     Doctorate degree
 4 Female    25 2     Doctorate degree
 5 Male      80 3     Doctorate degree
 6 Male      83 1     Doctorate degree
 7 Female   109 1     Doctorate degree
 8 Male      74 1     Doctorate degree
 9 Male      63 3     Doctorate degree
10 Female    63 1     Doctorate degree
# ℹ 179 more rows</code></pre>
</div>
</div>
<p>Awesome, now lets build our function to…</p>
</section>
</section>
<section id="query-the-census-api-and-return-a-table" class="level2">
<h2 class="anchored" data-anchor-id="query-the-census-api-and-return-a-table">Query the Census API and Return a Table</h2>
<p>The following function builds a URL for a single year of the API from user input and uses the previous function to make it a tibble. The code is divided into 2 main parts: logical qualifiers to align with project instructions and API limitations, and building a string to pass along to the generic URL function.</p>
<section id="quoted-url-string" class="level3">
<h3 class="anchored" data-anchor-id="quoted-url-string">Quoted URL String</h3>
<p>Creating a function to call on specified variables from the Census API. Method: passing along variables to a paste statement based on the following specifications</p>
<ul>
<li><p>Contains a year between 2010-2022</p></li>
<li><p>Return at least 2 numeric variables: PUMS person weight (PWGTP) and at least 1 of the following</p>
<ul>
<li>Age (AGEP), Gas Cost (GASP), Gross rent as a percentage of annual household income (GRPIP), Time of arrival at work (JWAP), Time of departure from work (JWDP), Travel time to work (JWMNP)</li>
</ul></li>
<li><p>Return at least 1 categorical variable</p>
<ul>
<li>Gave birth to a child with the past 12 months (FER), Household Language (HHL), Broadband Internet service (HISPEED), Means of transportation to work (JWTRNS), School enrollment (SCH), Educational attainment (SCHL), Sex (SEX)</li>
</ul></li>
<li><p>Optional argument to subset the data based on geography (All, Regions, Divisions, or States)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>query_api <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">year=</span><span class="dv">2022</span>, <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"PWGTP"</span><span class="ot">=</span><span class="cn">NA</span>, <span class="st">"AGEP"</span><span class="ot">=</span><span class="cn">NA</span>, <span class="st">"SEX"</span><span class="ot">=</span><span class="cn">NA</span>), <span class="at">geo_level =</span> <span class="st">"state"</span> , <span class="at">geo_code =</span> <span class="dv">11</span>){</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># year = year of census to call, default is 2022</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># vars = a vector of numerical and categorical indexes associated with their names default is PWGTP, AGEP, and SEX. The value NA means the variable is not going to be subsetted later.</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geo_level = geographic level Region, Division or State. The default is state  </span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geo_code = geographic index code. The default is our group number, ours is 11 (Washington DC)</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Logical Qualifiers</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Making variable choices align with instructions</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Empty for now</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  geo_str<span class="ot">&lt;-</span><span class="st">""</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># User input to upper/lower case</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># i made geo lower case because thats how it is in url</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(vars) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">names</span>(vars))</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  geo_level <span class="ot">&lt;-</span> <span class="fu">tolower</span>(geo_level)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># All variable options</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  n_valid_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"PWGTP"</span>, <span class="st">"AGEP"</span>, <span class="st">"GASP"</span>, <span class="st">"GRPIP"</span>, <span class="st">"JWAP"</span>, <span class="st">"JWDP"</span>, <span class="st">"JWMNP"</span>)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  c_valid_vars <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"FER"</span>, <span class="st">"HHL"</span>, <span class="st">"HISPEED"</span>, <span class="st">"JWTRNS"</span>, <span class="st">"SCH"</span>, <span class="st">"SCHL"</span>, <span class="st">"SEX"</span>)</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  valid_level <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"region"</span>, <span class="st">"division"</span>, <span class="st">"state"</span>, <span class="st">"all"</span>)</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep only those that appear in both the argument and valid variables based on the instruction</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  n_var_names <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">names</span>(vars), n_valid_vars)</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  c_var_names <span class="ot">&lt;-</span> <span class="fu">intersect</span>(<span class="fu">names</span>(vars), c_valid_vars)</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>  geo_name <span class="ot">&lt;-</span> <span class="fu">intersect</span>(geo_level, valid_level)</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Creating tibble of valid n and c var limits based on variable information site</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  var_limits <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">names =</span> <span class="fu">c</span>(n_valid_vars[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">names</span>(vars) <span class="sc">==</span> <span class="st">"PWGTP"</span>)], c_valid_vars), </span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>                          <span class="at">lower_bound =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>), </span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>                          <span class="at">upper_bound =</span> <span class="fu">c</span>(<span class="dv">99</span>, <span class="dv">9999</span>, <span class="dv">101</span>, <span class="dv">285</span>, <span class="dv">150</span>, <span class="dv">200</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">24</span>, <span class="dv">2</span>))</span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This checks that year is numeric or not multiple years and between '10 and '22. It then checks that it is in the valid range and filters out the year 2020, where there is no data</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(year) <span class="sc">|</span> <span class="fu">length</span>(year) <span class="sc">!=</span> <span class="dv">1</span>){</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: Year must be a single numeric value"</span>)</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(year <span class="sc">&gt;</span> <span class="dv">2022</span> <span class="sc">|</span> year <span class="sc">&lt;</span> <span class="dv">2010</span>){</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: Year must be between 2010-2022"</span>)</span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(year <span class="sc">==</span> <span class="dv">2020</span>){</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: The year 2020 has no data"</span>)</span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># filtering out variables from forum that if they are not in certain year</span></span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"JWTRNS"</span> <span class="sc">%in%</span> c_var_names <span class="sc">&amp;</span> year <span class="sc">&lt;</span> <span class="dv">2019</span>){</span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: JWTRNS was not recorded in the year provided"</span>)</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"HISPEED"</span> <span class="sc">%in%</span> c_var_names <span class="sc">&amp;</span> year <span class="sc">&lt;</span> <span class="dv">2016</span>){</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: HISPEED was not recorded in the year provided"</span>)</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Checks that at least 1 of numerical and categorical vars in the argument are valid</span></span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Double as the check that there is at least 1 categorical</span></span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(n_var_names) <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> <span class="fu">length</span>(c_var_names) <span class="sc">==</span> <span class="dv">0</span>){</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: One or more variables are invalid or not enough variables as argument"</span>)</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Giving note if one of the variable calls is invalid and subsetting to valid variables</span></span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> ((<span class="fu">length</span>(n_var_names) <span class="sc">+</span> <span class="fu">length</span>(c_var_names)) <span class="sc">&lt;</span> <span class="fu">length</span>(<span class="fu">names</span>(vars))){</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="st">"Note: One or more variables are invalid, returning only valid variables"</span>)</span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>    vars <span class="ot">&lt;-</span> vars[<span class="fu">c</span>(n_var_names, c_var_names)]</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># PWGTP always included and at least one other numeric var</span></span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(n_var_names) <span class="sc">&lt;</span> <span class="dv">2</span> <span class="sc">|</span> <span class="sc">!</span>(<span class="st">"PWGTP"</span> <span class="sc">%in%</span> n_var_names)){</span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: PWGTP and at least 1 other valid numerical vector must be an argument"</span>)</span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assigning valid geo code based on selected region. </span></span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a>  <span class="co"># If all is selected as geo_level, the variables get turned into normal columns. Hence the change from lower to upper case and state becoming ST.</span></span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (geo_name <span class="sc">==</span> <span class="st">"region"</span>){</span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>    valid_code <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (geo_name <span class="sc">==</span> <span class="st">"division"</span>){</span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>      valid_code <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (geo_name <span class="sc">==</span> <span class="st">"state"</span>){</span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a>      valid_code <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">56</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">14</span>, <span class="dv">43</span>, <span class="dv">52</span>)] </span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span>{</span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a>    geo_name <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"REGION"</span>, <span class="st">"DIVISION"</span>, <span class="st">"ST"</span>) </span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>    geo_code <span class="ot">=</span> <span class="st">"*"</span></span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Making sure valid geo_code was given</span></span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span>(geo_code <span class="sc">==</span> <span class="st">"*"</span> <span class="sc">||</span> geo_code <span class="sc">==</span> <span class="fu">round</span>(geo_code))){</span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">'Warning: geo_code must be an integer or "*"'</span>) </span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assigning valid indexes for variables</span></span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Cannot be indexed: PWGTP</span></span>
<span id="cb23-89"><a href="#cb23-89" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(vars[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">names</span>(vars) <span class="sc">==</span> <span class="st">"PWGTP"</span>)])){</span>
<span id="cb23-90"><a href="#cb23-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.na</span>(vars[i])){</span>
<span id="cb23-91"><a href="#cb23-91" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb23-92"><a href="#cb23-92" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Making sure given subset is an integer</span></span>
<span id="cb23-93"><a href="#cb23-93" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (vars[i] <span class="sc">!=</span> <span class="fu">round</span>(vars[i])){</span>
<span id="cb23-94"><a href="#cb23-94" aria-hidden="true" tabindex="-1"></a>        <span class="fu">stop</span>(<span class="st">"Given subset must be an integer"</span>)</span>
<span id="cb23-95"><a href="#cb23-95" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb23-96"><a href="#cb23-96" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb23-97"><a href="#cb23-97" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Checking if given subset is within the bounds of the subset</span></span>
<span id="cb23-98"><a href="#cb23-98" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (var_limits<span class="sc">$</span>lower_bound[<span class="fu">which</span>(var_limits<span class="sc">$</span>names <span class="sc">==</span> <span class="fu">names</span>(vars[i]))] <span class="sc">&gt;</span> vars[i] <span class="sc">|</span> var_limits<span class="sc">$</span>upper_bound[<span class="fu">which</span>(var_limits<span class="sc">$</span>names <span class="sc">==</span> <span class="fu">names</span>(vars[i]))] <span class="sc">&lt;</span> vars[i]){</span>
<span id="cb23-99"><a href="#cb23-99" aria-hidden="true" tabindex="-1"></a>        <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Invalid Variable Subsetting. Returning all values of variable"</span>, <span class="fu">names</span>(vars[i])))</span>
<span id="cb23-100"><a href="#cb23-100" aria-hidden="true" tabindex="-1"></a>        vars[i] <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb23-101"><a href="#cb23-101" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> <span class="cf">if</span> ((<span class="fu">names</span>(vars[i]) <span class="sc">%in%</span> n_var_names) <span class="sc">&amp;</span> <span class="sc">!</span>(<span class="fu">names</span>(vars[i]) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"JWAP"</span>, <span class="st">"JWDP"</span>))){</span>
<span id="cb23-102"><a href="#cb23-102" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Since these variables are given as ranges on the API site, there is no way to know if a specific value exists </span></span>
<span id="cb23-103"><a href="#cb23-103" aria-hidden="true" tabindex="-1"></a>          <span class="fu">print</span>(<span class="st">"Note: Numerical variable subsetted. While within the given range, Specific number may not be in the data"</span>)</span>
<span id="cb23-104"><a href="#cb23-104" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb23-105"><a href="#cb23-105" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb23-106"><a href="#cb23-106" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-107"><a href="#cb23-107" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-108"><a href="#cb23-108" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fill in geo_str </span></span>
<span id="cb23-109"><a href="#cb23-109" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-110"><a href="#cb23-110" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(geo_name) <span class="sc">&gt;</span> <span class="dv">1</span>){ </span>
<span id="cb23-111"><a href="#cb23-111" aria-hidden="true" tabindex="-1"></a>    geo_str <span class="ot">&lt;-</span> <span class="fu">paste0</span>(geo_name, <span class="at">collapse=</span>,)</span>
<span id="cb23-112"><a href="#cb23-112" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (geo_level <span class="sc">%in%</span> valid_level <span class="sc">&amp;&amp;</span> ((geo_code <span class="sc">%in%</span> valid_code) <span class="sc">|</span> geo_code <span class="sc">==</span> <span class="st">"*"</span>)){</span>
<span id="cb23-113"><a href="#cb23-113" aria-hidden="true" tabindex="-1"></a>      geo_str<span class="ot">&lt;-</span><span class="fu">paste0</span>(<span class="st">"&amp;for="</span>, geo_level, <span class="st">":"</span> ,geo_code)</span>
<span id="cb23-114"><a href="#cb23-114" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="sc">!</span>(geo_level <span class="sc">%in%</span> valid_geo <span class="sc">&amp;</span> geo_level <span class="sc">!=</span> <span class="st">"all"</span>)){</span>
<span id="cb23-115"><a href="#cb23-115" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">"Warning: Provided geography level is not valid"</span>)</span>
<span id="cb23-116"><a href="#cb23-116" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="sc">!</span>(geo_code <span class="sc">%in%</span> valid_code)){</span>
<span id="cb23-117"><a href="#cb23-117" aria-hidden="true" tabindex="-1"></a>      <span class="fu">stop</span>(<span class="st">"Warning: Provided geography code is not valid for your geography level"</span>)</span>
<span id="cb23-118"><a href="#cb23-118" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb23-119"><a href="#cb23-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-120"><a href="#cb23-120" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-121"><a href="#cb23-121" aria-hidden="true" tabindex="-1"></a> <span class="co"># Creating master URL. The string is constructed differently based on whether or not there are any variables indexed or if the given geo_level was all (length(geo_name) &gt; 1). Therefore, the api is built within the if then else statme</span></span>
<span id="cb23-122"><a href="#cb23-122" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span>(<span class="sc">!</span><span class="fu">all</span>(<span class="fu">is.na</span>(vars))){</span>
<span id="cb23-123"><a href="#cb23-123" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span>(<span class="fu">length</span>(geo_name) <span class="sc">&gt;</span> <span class="dv">1</span>){</span>
<span id="cb23-124"><a href="#cb23-124" aria-hidden="true" tabindex="-1"></a>     api_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://api.census.gov/data/"</span>, year, <span class="st">"/acs/acs1/pums?get="</span>, </span>
<span id="cb23-125"><a href="#cb23-125" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">paste</span>(<span class="fu">names</span>(vars)[<span class="fu">is.na</span>(vars)], <span class="at">collapse=</span><span class="st">","</span>), geo_str, <span class="st">"&amp;"</span>,</span>
<span id="cb23-126"><a href="#cb23-126" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">paste0</span>(<span class="fu">names</span>(vars)[<span class="sc">!</span><span class="fu">is.na</span>(vars)], <span class="st">"="</span>, vars[<span class="sc">!</span><span class="fu">is.na</span>(vars)], <span class="at">collapse=</span><span class="st">"&amp;"</span>))</span>
<span id="cb23-127"><a href="#cb23-127" aria-hidden="true" tabindex="-1"></a>   } <span class="cf">else</span>{</span>
<span id="cb23-128"><a href="#cb23-128" aria-hidden="true" tabindex="-1"></a>     api_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://api.census.gov/data/"</span>, year, <span class="st">"/acs/acs1/pums?get="</span>, </span>
<span id="cb23-129"><a href="#cb23-129" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">paste</span>(<span class="fu">names</span>(vars)[<span class="fu">is.na</span>(vars)], <span class="at">collapse=</span><span class="st">","</span>), <span class="st">"&amp;"</span>,</span>
<span id="cb23-130"><a href="#cb23-130" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">paste0</span>(<span class="fu">names</span>(vars)[<span class="sc">!</span><span class="fu">is.na</span>(vars)], <span class="st">"="</span>, vars[<span class="sc">!</span><span class="fu">is.na</span>(vars)], <span class="at">collapse=</span><span class="st">"&amp;"</span>), geo_str)</span>
<span id="cb23-131"><a href="#cb23-131" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb23-132"><a href="#cb23-132" aria-hidden="true" tabindex="-1"></a> } <span class="cf">else</span>{</span>
<span id="cb23-133"><a href="#cb23-133" aria-hidden="true" tabindex="-1"></a>    api_url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://api.census.gov/data/"</span>, year, <span class="st">"/acs/acs1/pums?get="</span>, </span>
<span id="cb23-134"><a href="#cb23-134" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">paste</span>(<span class="fu">names</span>(vars)[<span class="fu">is.na</span>(vars)], <span class="at">collapse=</span><span class="st">","</span>), geo_str)</span>
<span id="cb23-135"><a href="#cb23-135" aria-hidden="true" tabindex="-1"></a> }</span>
<span id="cb23-136"><a href="#cb23-136" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-137"><a href="#cb23-137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">URL_funct</span>(api_url))</span>
<span id="cb23-138"><a href="#cb23-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-139"><a href="#cb23-139" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-140"><a href="#cb23-140" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We want to <strong>test</strong> that our function to query and API worked!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>Census_tibble <span class="ot">&lt;-</span> <span class="fu">query_api</span>(<span class="at">vars =</span> <span class="fu">c</span>(<span class="at">PWGTP =</span> <span class="cn">NA</span>, <span class="at">GASP=</span><span class="dv">3</span>, <span class="at">SEX =</span> <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Note: Numerical variable subsetted. While within the given range, Specific number may not be in the data"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does our function address 001 vs 1 vs 01 for jwdp?</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># I just tested it in a URL and 001, 1, and 01 all return the same thing.</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>Census_tibble</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,144 × 4
   PWGTP SEX     GASP state
   &lt;dbl&gt; &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt;
 1    81 Female     3 11   
 2    67 Female     3 11   
 3    85 Male       3 11   
 4    51 Male       3 11   
 5    56 Female     3 11   
 6    80 Male       3 11   
 7   213 Female     3 11   
 8   175 Male       3 11   
 9    84 Male       3 11   
10    62 Female     3 11   
# ℹ 3,134 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="creating-table-that-spans-multiple-years" class="level2">
<h2 class="anchored" data-anchor-id="creating-table-that-spans-multiple-years">Creating Table that Spans Multiple Years</h2>
<p>Last Data processing function. Specifies multiple years of survey data while keeping the rest of the variables constatnt</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>build_multi_year_tbl <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">years =</span> <span class="fu">c</span>(<span class="dv">2012</span>, <span class="dv">2013</span>, <span class="dv">2014</span>, <span class="dv">2015</span>, <span class="dv">2016</span>, <span class="dv">2017</span>, <span class="dv">2018</span>, <span class="dv">2019</span>, <span class="dv">2021</span>, <span class="dv">2022</span>), <span class="at">vars =</span> <span class="fu">c</span>(<span class="st">"PWGTP"</span><span class="ot">=</span><span class="cn">NA</span>, <span class="st">"AGEP"</span><span class="ot">=</span><span class="cn">NA</span>, <span class="st">"SEX"</span><span class="ot">=</span><span class="cn">NA</span>), <span class="at">geo_level =</span> <span class="st">"state"</span> , <span class="at">geo_code =</span> <span class="dv">11</span>){</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">any</span>(years <span class="sc">&gt;</span> <span class="dv">2022</span>) <span class="sc">|</span> <span class="fu">any</span>(years <span class="sc">&lt;</span> <span class="dv">2010</span>) <span class="sc">|</span> <span class="fu">any</span>(years <span class="sc">==</span> <span class="dv">2020</span>)){</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: Year must be between 2010-2022 and not 2020"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"JWTRNS"</span> <span class="sc">%in%</span> <span class="fu">names</span>(vars) <span class="sc">&amp;</span> <span class="fu">any</span>(years <span class="sc">&lt;</span> <span class="dv">2019</span>)){</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: JWTRNS only recorded in years greater than 2019"</span>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="st">"HISPEED"</span> <span class="sc">%in%</span> <span class="fu">names</span>(vars) <span class="sc">&amp;</span> <span class="fu">any</span>(years <span class="sc">&lt;</span> <span class="dv">2016</span>)){</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: HISPEED was not recorded in the year provided"</span>)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  multi_year_tbl <span class="ot">=</span> <span class="fu">tibble</span>()</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(years)){</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    temp <span class="ot">&lt;-</span> <span class="fu">query_api</span>(years[i], vars, geo_level, geo_code) <span class="sc">|&gt;</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">year =</span> years[i],</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>          <span class="at">.before =</span> <span class="dv">1</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>    multi_year_tbl <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(multi_year_tbl, temp)</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(multi_year_tbl)</span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We want to <strong>test</strong> that our function to make a table with multiple years worked</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>yrs <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">2012</span>, <span class="dv">2013</span>, <span class="dv">2021</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>multi_yr_tbl <span class="ot">&lt;-</span> <span class="fu">build_multi_year_tbl</span>(<span class="at">years =</span> yrs)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>multi_yr_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20,037 × 5
    year PWGTP  AGEP SEX    state
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;  &lt;chr&gt;
 1  2012    40    87 Female 11   
 2  2012    68    43 Female 11   
 3  2012    74    19 Male   11   
 4  2012    56    12 Male   11   
 5  2012    81    58 Female 11   
 6  2012   119    23 Female 11   
 7  2012    65    93 Female 11   
 8  2012    98    48 Female 11   
 9  2012     9    93 Female 11   
10  2012   192    46 Female 11   
# ℹ 20,027 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="manipulation" class="level1">
<h1>Manipulation</h1>
<section id="generic-function-for-summarizing." class="level2">
<h2 class="anchored" data-anchor-id="generic-function-for-summarizing.">Generic function for summarizing.</h2>
<p>We went back to the generalized function (URL_funct) to build a table from an API URL to input the code to add a class to the census data for summarizing purposes. The code instructions on our tester table would look like</p>
<blockquote class="blockquote">
<p>class(Census_tibble) &lt;- c(“census”,class(Census_tibble))</p>
</blockquote>
<p>The summarizing function will produce the means and standard deviations for specified numeric variables and the counts for specified categorical variables. The arguments would be the tibble produced from URL_funct, and the numeric and categorical variables to summarize. The numeric variables are weighted based on the peron weight vector, PWGTP.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarizing function</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>summarize_census <span class="ot">&lt;-</span> <span class="cf">function</span>(tibble, <span class="at">num_vars=</span><span class="cn">NULL</span>, <span class="at">cat_vars=</span><span class="cn">NULL</span>){</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># tibble we are using</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># num_vars are our numeric variables we want to summarize</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># cat_vars are our categorical variables we want to summarize</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># we did NULL default so we can use if logic later to return all</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># empty list for later</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  results <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  weight <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(tibble<span class="sc">$</span>PWGTP)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#numeric </span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return all numeric names except PWGTP</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  all_num <span class="ot">&lt;-</span> tibble <span class="sc">|&gt;</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="fu">where</span>(is.numeric), <span class="sc">-</span>PWGTP) <span class="sc">|&gt;</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>()</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep only those that appear in both</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  num_vars <span class="ot">&lt;-</span> <span class="fu">intersect</span>(num_vars, all_num)</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># give us all numeric variables if none given</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(num_vars)){</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    num_vars <span class="ot">&lt;-</span> all_num</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># loop to go through this vector and compute mean and standard deviation</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># note: Given outline code for this. Replace x^2 with x*x</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> num_vars){</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> tibble[[i]]</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>    x_mean <span class="ot">&lt;-</span> <span class="fu">sum</span>(x<span class="sc">*</span>weight)<span class="sc">/</span><span class="fu">sum</span>(weight)</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>    x_sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">sum</span>(x<span class="sc">*</span>x<span class="sc">*</span>weight)<span class="sc">/</span><span class="fu">sum</span>(weight)<span class="sc">-</span>(x_mean<span class="sc">*</span>x_mean))</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>    results[[i]] <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">mean =</span> x_mean, <span class="at">sd =</span> x_sd)</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># categorical</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># return all categorical names</span></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>  all_cat <span class="ot">&lt;-</span> tibble <span class="sc">|&gt;</span></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.character), <span class="fu">where</span>(is.factor)) <span class="sc">|&gt;</span></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>()</span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Keep only those that appear in both</span></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>  cat_vars <span class="ot">&lt;-</span> <span class="fu">intersect</span>(cat_vars, all_cat)</span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># give us all categorical variables if none given</span></span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(cat_vars)){</span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a>    cat_vars <span class="ot">&lt;-</span> all_cat</span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># loop to go through this vector and compute counts</span></span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># tapply is base R read through the documentation on it in the help tab</span></span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> cat_vars){</span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>    counts <span class="ot">&lt;-</span> <span class="fu">tapply</span>(weight, tibble[[i]],sum)  </span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a>    results[[i]] <span class="ot">&lt;-</span> <span class="fu">as.list</span>(counts)</span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(results)</span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We are now going to <strong>test</strong> our summary function! We used the test tibble from when we tested our API query!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#test for this function</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summarize_census</span>(Census_tibble, <span class="st">"GASP"</span>, <span class="st">"SEX"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$GASP
$GASP$mean
[1] 3

$GASP$sd
[1] 0


$SEX
$SEX$Male
[1] 156399

$SEX$Female
[1] 179066</code></pre>
</div>
</div>
</section>
<section id="plotting-function" class="level2">
<h2 class="anchored" data-anchor-id="plotting-function">Plotting Function</h2>
<p>Next we will create our plot function. We are requiring to user to specify one categorical and one numeric variable for plotting purposes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>plot_Census <span class="ot">&lt;-</span> <span class="cf">function</span>(tibble , num_var , cat_var){</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># valid num</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  all_num <span class="ot">&lt;-</span> tibble <span class="sc">|&gt;</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric), <span class="sc">-</span>PWGTP) <span class="sc">|&gt;</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>()</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># valid cat</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  all_cat <span class="ot">&lt;-</span> tibble <span class="sc">|&gt;</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.character), <span class="fu">where</span>(is.factor)) <span class="sc">|&gt;</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>()</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to uppercase</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(num_var) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">names</span>(num_var))</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(cat_var) <span class="ot">&lt;-</span> <span class="fu">toupper</span>(<span class="fu">names</span>(cat_var))</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># only one cat or num variable</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(cat_var) <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">|</span> <span class="fu">length</span>(num_var) <span class="sc">!=</span> <span class="dv">1</span>) {</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: Please specify one categorical and one numeric variable."</span>)</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="sc">!</span>(cat_var <span class="sc">%in%</span> all_cat) <span class="sc">||</span> <span class="sc">!</span>(num_var <span class="sc">%in%</span> all_num)){</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Warning: Invalid categorical or numeric variable specified"</span>)</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># this code was given</span></span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(tibble,</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">get</span>(cat_var), <span class="at">y =</span> <span class="fu">get</span>(num_var), <span class="at">weight =</span> <span class="fu">as.numeric</span>(PWGTP))) <span class="sc">+</span> <span class="fu">geom_boxplot</span>() <span class="sc">+</span> </span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(cat_var) <span class="sc">+</span> <span class="fu">ylab</span>(num_var) <span class="sc">+</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">1</span>))</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we will <strong>test</strong> our function for plots works! Again we will use test tibble from testing our API query.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(Census_tibble, <span class="st">"GASP"</span>, <span class="st">"SEX"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This example was not very informative because the value of GASP is 3 for the specified qualifiers. For the following code chunk we will use our functions to build a plot based on Household Language and Gross rent as a percentage of household income</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(<span class="fu">query_api</span>(<span class="at">year =</span> <span class="dv">2022</span>, <span class="at">vars =</span> <span class="fu">c</span>(<span class="at">PWGTP =</span> <span class="cn">NA</span>, <span class="at">GRPIP =</span> <span class="cn">NA</span>, <span class="at">HHL =</span> <span class="cn">NA</span>)), <span class="st">"GRPIP"</span>, <span class="st">"HHL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="investigation" class="level1">
<h1>Investigation</h1>
<p>The plot of household language (HHL) against gross rent as a percentage of yearly household income (GRPIP) yielded an interesting result. It appears that in Washington DC (state 11) in the year 2022, approximately half of the households who speak English only or a non-Spanish Indo-European language do not have a value associated with rent. Specifically, “N/A (GQ/vacant/owned or being bought/occupied without rent payment/no household income)”</p>
<p>Let us see what this plot looks like without the NA values. So what happens if we only look at the people paying rent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>full_tbl2022 <span class="ot">&lt;-</span> <span class="fu">query_api</span>(<span class="at">year =</span> <span class="dv">2022</span>, <span class="at">vars =</span> <span class="fu">c</span>(<span class="at">PWGTP =</span> <span class="cn">NA</span>, <span class="at">GRPIP =</span> <span class="cn">NA</span>, <span class="at">HHL =</span> <span class="cn">NA</span>))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>invest_tbl2022 <span class="ot">&lt;-</span> (<span class="fu">query_api</span>(<span class="at">year =</span> <span class="dv">2022</span>, <span class="at">vars =</span> <span class="fu">c</span>(<span class="at">PWGTP =</span> <span class="cn">NA</span>, <span class="at">GRPIP =</span> <span class="cn">NA</span>, <span class="at">HHL =</span> <span class="cn">NA</span>))) <span class="sc">|&gt;</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(GRPIP <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(invest_tbl2022, <span class="st">"GRPIP"</span>, <span class="st">"HHL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Now the variable medians are “flipped”. Of the people who pay rent, households who speak English only or a non-Spanish Indo-European language tend to pay more.</p>
<p>Does this hold true for the year 2021?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>full_tbl2021 <span class="ot">&lt;-</span> <span class="fu">query_api</span>(<span class="at">year =</span> <span class="dv">2021</span>, <span class="at">vars =</span> <span class="fu">c</span>(<span class="at">PWGTP =</span> <span class="cn">NA</span>, <span class="at">GRPIP =</span> <span class="cn">NA</span>, <span class="at">HHL =</span> <span class="cn">NA</span>))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>invest_tbl2021 <span class="ot">&lt;-</span> full_tbl2021 <span class="sc">|&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(GRPIP <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(full_tbl2021, <span class="st">"GRPIP"</span>, <span class="st">"HHL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(invest_tbl2021, <span class="st">"GRPIP"</span>, <span class="st">"HHL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>This data is completely different that for the following year. Is it because of COVID-19? Let us investigate once more with the year 2018.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>full_tbl2018 <span class="ot">&lt;-</span> <span class="fu">query_api</span>(<span class="at">year =</span> <span class="dv">2018</span>, <span class="at">vars =</span> <span class="fu">c</span>(<span class="at">PWGTP =</span> <span class="cn">NA</span>, <span class="at">GRPIP =</span> <span class="cn">NA</span>, <span class="at">HHL =</span> <span class="cn">NA</span>))</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>invest_tbl2018 <span class="ot">&lt;-</span> full_tbl2018 <span class="sc">|&gt;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(GRPIP <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(full_tbl2018, <span class="st">"GRPIP"</span>, <span class="st">"HHL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_Census</span>(invest_tbl2018, <span class="st">"GRPIP"</span>, <span class="st">"HHL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Proj1Code_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>These graphs look much more like those from 2022, so it seems like COVID-19 may have played a role in the number of people not paying rent in Washington DC. However, the inner-quartile ranges of the rent percentage is much smaller.</p>
<p>Based on these findings, future research can focus on the following. What percentage of the people who pay zero rent own their house versus just do not pay rent (e.g.&nbsp;someone living with their parents)? What is it about English only households that causes them to have at least half of the population not paying rent? Is there a confounding factor between household language and the percentage of annual income set aside for rent? Is the inner-quartile range for GRPIP growing because of decreased/stagnated annual income, increased rent amount, or both?</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>